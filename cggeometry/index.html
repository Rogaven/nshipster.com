<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  
    <title>CGGeometry - NSHipster</title>
    <meta name="description" content="Unless you were a Math Geek or an Ancient Greek, Geometry was probably not your favorite subject in high school. No, chances are that you were that kid in class who dutifully programmed all of the necessary formulae into your TI-8X calculator. Keeping in the tradition of doing the least amount of math possible, here are some semi-obscure CoreGraphics functions to make your job easier."/>
    <link rel="canonical" href="http://nshipster.com/cggeometry/"/>
  
  
  
  
  <meta name="author" content="Mattt Thompson"/>
  
  <meta name="revisit-after" content="7 days"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"/>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://nshipster.com/feed.xml"/>
  <link rel="stylesheet" type="text/css" href="http://nshipster.com/css/screen.css"/>
  <link rel="apple-touch-icon" href="/touch-icon-iphone.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="/touch-icon-ipad.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="/touch-icon-iphone-retina.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="/touch-icon-ipad-retina.png"/>
  <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico"/>
  <link rel="mask-icon" sizes="any" href="/website_icon.svg" color="black"/>
  <link rel="author" type="text/plain" href="http://nshipster.com/humans.txt"/>

  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@NSHipster"/>
  
  <meta name="twitter:creator" content="@mattt"/>
  
  
    <meta name="twitter:title" content="CGGeometry"/>
    <meta name="twitter:description" content="Unless you were a Math Geek or an Ancient Greek, Geometry was probably not your favorite subject in high school. No, chances are that you were that kid in class who dutifully programmed all of the necessary formulae into your TI-8X calculator. Keeping in the tradition of doing the least amount of math possible, here are some semi-obscure CoreGraphics functions to make your job easier."/>
  
  <meta property="twitter:account_id" content="629523445"/>

  <meta property="og:site_name" content="NSHipster"/>
  <meta property="og:image" content="http://nshipster.com/touch-icon-ipad-retina.png"/>
  
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="CGGeometry"/>
    <meta property="og:url" content="http://nshipster.com/cggeometry/"/>
    <meta property="og:description" content="Unless you were a Math Geek or an Ancient Greek, Geometry was probably not your favorite subject in high school. No, chances are that you were that kid in class who dutifully programmed all of the necessary formulae into your TI-8X calculator. Keeping in the tradition of doing the least amount of math possible, here are some semi-obscure CoreGraphics functions to make your job easier."/>
    <meta property="article:published_time" content="2012-12-17T00:00:00-08:00"/>
    <meta property="article:modified_time" content="2015-12-09T21:34:50-08:00"/>
    <meta property="article:tag" content="cocoa"/>
    <meta property="article:publisher" content="https://www.facebook.com/NSHipster">
  

  
    <meta property="st:title" content="CGGeometry"/>
    <meta property="st:type" content="article"/>
  
  
  <meta property="nshipster:hide-single-lang" content="swift,objective-c"/>
</head>

<body itemscope itemtype="http://schema.org/WebPage">

  <script src="http://nshipster.com/js/zepto.min.js"></script>
  <script src="http://nshipster.com/js/application.js"></script>

  <div role="container">
    <header role="banner">
      <h1 id="logo">
        <a href="/">
          <svg id="ns" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
<g>
  <path fill="#F58020" d="M0.6,1h13.7L27,24.4h0.1V1h12.7v43.6H26.8L13.4,20.8h-0.1v23.8H0.6V1z"/>
  <path fill="#F58020" d="M51.4,30c0,1.1,0.2,2.1,0.5,2.9c1,2.6,3.9,3.2,6.4,3.2c2.2,0,5.6-0.7,5.6-4c0-2.3-1.9-2.9-9.4-5
    c-6.9-2-14.8-3.8-14.8-12.6C39.7,4.3,48.3,0,57.3,0c9.5,0,17.8,3.6,18.2,14.2H62.8c0.2-1.6-0.5-2.7-1.6-3.5
    c-1.1-0.8-2.6-1.1-4-1.1c-1.8,0-4.8,0.5-4.8,2.9c0.2,3.1,6.5,3.8,12.6,5.5c6.2,1.7,12.3,4.6,12.3,12.6c0,11.4-10.4,15-20.1,15
    c-4.9,0-19-1.8-19.2-15.7H51.4z"/>
</g>
</svg>

          <svg id="mustache" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
  <g transform="translate(0,-952.36217)" opacity="0.95">
    <path id="path2987" fill="#010101" d="M28.2,971.4c-10,0.5-19.1,13.3-28.2,2.1c0,15.1,23.7,30.5,39.8,16.3
      c16,14.1,39.8-1.3,39.8-16.3c-12.5,15.4-25-14.4-39.8,4.5C35.8,972.7,31.9,971.2,28.2,971.4z"/>
  </g>
</svg>

        </a>

        <span hidden style="display:none;">NSHipster</span>
      </h1>

      <form role="search">
        <input type="text" id="st-search-input" class="st-search-input" />
      </form>

      
    </header>

    <div id="main" role="main" itemprop="mainContentOfPage">
      

<article role="article" itemscope itemtype="http://schema.org/Article">
  <header role="heading">
    <h1 class="title" itemprop="name">
      <a href="/cggeometry/">CGGeometry</a>
    </h1>

    <h2>
    
      Written by <a class="author" href="/authors/mattt-thompson/">Mattt Thompson</a> —
    
    <time datetime="2012-12-17T00:00:00-08:00" itemprop="datePublished">December 17<sup>th</sup>, 2012</time>
    
    (<a href="#revisions">revised</a>)
    
    </h2>

  </header>

  <div class="content" itemprop="articleBody" data-swiftype-index="true">
    <p>Unless you were a Math Geek or an Ancient Greek, Geometry was probably not your favorite subject in high school. No, chances are that you were that kid in class who dutifully programmed all of the necessary formulæ into your TI-8X calculator.</p>

<p>So for those of you who spent more time learning TI-BASIC than Euclidean geometry, here&rsquo;s the cheat-sheet for how geometry works in <a href="https://developer.apple.com/library/mac/#documentation/graphicsimaging/Conceptual/drawingwithquartz2d/Introduction/Introduction.html#//apple_ref/doc/uid/TP30001066">Quartz 2D</a>, the drawing system used in iOS and OS X:</p>

<ul>
<li><p>A <code>CGPoint</code> is a struct that represents a point in a two-dimensional coordinate system. For iOS, the origin is at the top-left, so points move right and down as their <code>x</code> and <code>y</code> values, respectively, increase. OS X, by contrast, is oriented with <code>(0, 0)</code> in the bottom left, with <code>y</code> moving up as it increases.</p></li>
<li><p>A <code>CGSize</code> is a struct that represents the dimensions of <code>width</code> and <code>height</code>.</p></li>
<li><p>A <code>CGRect</code> is a struct with both a <code>CGPoint</code> (<code>origin</code>) and a <code>CGSize</code> (<code>size</code>), representing a rectangle drawn from its <code>origin</code> point with the <code>width</code> and <code>height</code> of its <code>size</code>.</p></li>
</ul>

<p>Because <code>CGRect</code> is used to represent the <code>frame</code> of every view drawn on screen, a programmer&rsquo;s success in graphical programming is contingent on their ability to effectively manipulate rectangle geometry.</p>

<p>Fortunately for us, Quartz comes with a slew of useful functions to reduce the amount of floating point math we have to do ourselves. As central as view programming is to Cocoa, and as useful as these functions are, however, they remain relatively unknown to most iOS developers.</p>

<p>This will not stand! Let&rsquo;s shine some light on the most useful functions and save y&#39;all some typing!</p>

<blockquote>
<p>In Swift, the CoreGraphics framework augments <code>CGRect</code> by adding all this functionality as static properties, instance properties, and both mutating and non-mutating functions where appropriate. For idiomatic Swift code, prefer properties and nonmutating instance methods whenever possible.</p>
</blockquote>

<hr>

<h2 id="transformations">Transformations</h2>

<p>First on our list are the geometric transformations. These functions return a <code>CGRect</code>, which is the result of performing a particular set of operations on the passed rectangle.</p>

<h3 id="cgrectoffset"><code>CGRectOffset</code></h3>

<blockquote>
<p><code>offsetBy</code> / <code>CGRectOffset</code>: Returns a rectangle with an origin that is offset from that of the source rectangle.</p>
</blockquote>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// methods:</span>
<span class="k">extension</span> <span class="bp">CGRect</span> <span class="p">{</span>
    <span class="k">func</span> <span class="n">offsetBy</span><span class="p">(</span><span class="nl">dx</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">,</span> <span class="nl">dy</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">CGRect</span>
    <span class="kr">mutating</span> <span class="k">func</span> <span class="n">offsetInPlace</span><span class="p">(</span><span class="nl">dx</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">,</span> <span class="nl">dy</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// function:</span>
<span class="k">func</span> <span class="n">CGRectOffset</span><span class="p">(</span><span class="nl">rect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">,</span> <span class="nl">dx</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">,</span> <span class="nl">dy</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">CGRect</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="bp">CGRect</span> <span class="n">CGRectOffset</span><span class="p">(</span>
  <span class="bp">CGRect</span> <span class="n">rect</span><span class="p">,</span>
  <span class="n">CGFloat</span> <span class="n">dx</span><span class="p">,</span>
  <span class="n">CGFloat</span> <span class="n">dy</span>
<span class="p">)</span>
</code></pre></div>
<p>Consider using this anytime you&rsquo;re changing the origin of a rectangle. Not only can it save a line of code when changing both the horizontal and vertical position, but more importantly, it represents the translation more semantically than manipulating the origin values individually.</p>

<h3 id="cgrectinset"><code>CGRectInset</code></h3>

<blockquote>
<p><code>rectByInsetting</code> / <code>CGRectInset</code>: Returns a rectangle that is smaller or larger than the source rectangle, with the same center point.</p>
</blockquote>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// methods:</span>
<span class="k">extension</span> <span class="bp">CGRect</span> <span class="p">{</span>
    <span class="k">func</span> <span class="n">insetBy</span><span class="p">(</span><span class="nl">dx</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">,</span> <span class="nl">dy</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">CGRect</span>
    <span class="kr">mutating</span> <span class="k">func</span> <span class="n">insetInPlace</span><span class="p">(</span><span class="nl">dx</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">,</span> <span class="nl">dy</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// function:</span>
<span class="k">func</span> <span class="n">CGRectInset</span><span class="p">(</span><span class="nl">rect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">,</span> <span class="nl">dx</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">,</span> <span class="nl">dy</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">CGRect</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="bp">CGRect</span> <span class="n">CGRectInset</span><span class="p">(</span>
  <span class="bp">CGRect</span> <span class="n">rect</span><span class="p">,</span>
  <span class="n">CGFloat</span> <span class="n">dx</span><span class="p">,</span>
  <span class="n">CGFloat</span> <span class="n">dy</span>
<span class="p">)</span>
</code></pre></div>
<p>Want to make a view-within-a-view look good? Give it a nice 10pt padding with <code>CGRectInset</code>. Keep in mind that the rectangle will be resized around its center by ± <code>dx</code> on its left and right edge (for a total of <code>2 × dx</code>), and ± <code>dy</code> on its top and bottom edge (for a total of <code>2 × dy</code>).</p>

<p>If you&rsquo;re using <code>CGRectInset</code> as a convenience function for resizing a rectangle, it is common to chain this with <code>CGRectOffset</code> by passing the result of <code>CGRectInset</code> as the <code>rect</code> argument in <code>CGRectOffset</code>.</p>

<h3 id="cgrectintegral"><code>CGRectIntegral</code></h3>

<blockquote>
<p><code>integral</code> / <code>CGRectIntegral</code>: Returns the smallest rectangle that results from converting the source rectangle values to integers.</p>
</blockquote>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// methods:</span>
<span class="k">extension</span> <span class="bp">CGRect</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nl">integral</span><span class="p">:</span> <span class="bp">CGRect</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
    <span class="kr">mutating</span> <span class="k">func</span> <span class="n">makeIntegralInPlace</span><span class="p">()</span>
<span class="p">}</span>
<span class="c1">// function:</span>
<span class="k">func</span> <span class="n">CGRectIntegral</span><span class="p">(</span><span class="nl">rect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">CGRect</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="bp">CGRect</span> <span class="n">CGRectIntegral</span> <span class="p">(</span>
  <span class="bp">CGRect</span> <span class="n">rect</span>
<span class="p">)</span>
</code></pre></div>
<p>It&rsquo;s important that <code>CGRect</code> values all are rounded to the nearest whole point. Fractional values cause the frame to be drawn on a <em>pixel boundary</em>. Because pixels are atomic units (cannot be subdivided†) a fractional value will cause the drawing to be averaged over the neighboring pixels, which looks blurry.</p>

<p><code>CGRectIntegral</code> will <code>floor</code> each origin value, and <code>ceil</code> each size value, which will ensure that your drawing code will crisply align on pixel boundaries.</p>

<p>As a rule of thumb, if you are performing any operations that could result in fractional point values (e.g. division, <code>CGRectGetMid[X|Y]</code>, or <code>CGRectDivide</code>), use <code>CGRectIntegral</code> to normalize rectangles to be set as a view frame.</p>

<blockquote>
<p>† Technically, since the coordinate system operates in terms of points, Retina screens, which have 4 pixels for every point, can draw <code>± 0.5f</code> point values on odd pixels without blurriness.</p>
</blockquote>

<h2 id="value-helper-functions">Value Helper Functions</h2>

<p>These functions provide a shorthand way to calculate interesting dimensional values about a particular <code>CGRect</code>.</p>

<h3 id="cgrectget[min|mid|max][x|y]"><code>CGRectGet[Min|Mid|Max][X|Y]</code></h3>

<ul>
<li><code>CGRectGetMinX</code></li>
<li><code>CGRectGetMinY</code></li>
<li><code>CGRectGetMidX</code></li>
<li><code>CGRectGetMidY</code></li>
<li><code>CGRectGetMaxX</code></li>
<li><code>CGRectGetMaxY</code></li>
</ul>

<p>These six functions return the minimum, middle, or maximum <code>x</code> or <code>y</code> value for a rectangle, taking the form:</p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">func</span> <span class="n">CGRectGet</span><span class="p">[</span><span class="n">Min</span><span class="o">|</span><span class="n">Mid</span><span class="o">|</span><span class="n">Max</span><span class="p">][</span><span class="n">X</span><span class="o">|</span><span class="n">Y</span><span class="p">](</span><span class="nl">rect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">CGPoint</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="n">CGFloat</span> <span class="n">CGRectGet</span><span class="p">[</span><span class="n">Min</span><span class="o">|</span><span class="n">Mid</span><span class="o">|</span><span class="n">Max</span><span class="p">][</span><span class="n">X</span><span class="o">|</span><span class="n">Y</span><span class="p">]</span> <span class="p">(</span>
  <span class="bp">CGRect</span> <span class="n">rect</span>
<span class="p">)</span>
</code></pre></div>
<p>These functions will replace code like <code>frame.origin.x + frame.size.width</code> with cleaner, more semantically expressive equivalents (especially with the mid and max functions).</p>

<h3 id="cgrectget[width|height]"><code>CGRectGet[Width|Height]</code></h3>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// Returns the height of a rectangle.</span>
<span class="k">func</span> <span class="n">CGRectGetHeight</span><span class="p">(</span><span class="nl">rect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CGFloat</span>

<span class="c1">// Returns the width of a rectangle.</span>
<span class="k">func</span> <span class="n">CGRectGetWidth</span><span class="p">(</span><span class="nl">rect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CGFloat</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="c1">// Returns the height of a rectangle.</span>
<span class="n">CGFloat</span> <span class="n">CGRectGetHeight</span> <span class="p">(</span>
   <span class="bp">CGRect</span> <span class="n">rect</span>
<span class="p">)</span>

<span class="c1">// Returns the width of a rectangle.</span>
<span class="n">CGFloat</span> <span class="n">CGRectGetWidth</span> <span class="p">(</span>
   <span class="bp">CGRect</span> <span class="n">rect</span>
<span class="p">)</span>
</code></pre></div>
<p>Much like the previous functions, <code>CGRectGetWidth</code> &amp; <code>CGRectGetHeight</code> are often preferable to returning the corresponding member of a <code>CGRect</code>&rsquo;s <code>size</code>. While it&rsquo;s not extremely competitive in terms of character savings, remember that semantic clarity trumps brevity every time.</p>

<h3 id="swift-additions">Swift Additions</h3>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">extension</span> <span class="bp">CGRect</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nl">minX</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
    <span class="k">var</span> <span class="nl">minY</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
    <span class="k">var</span> <span class="nl">midX</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
    <span class="k">var</span> <span class="nl">midY</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
    <span class="k">var</span> <span class="nl">maxX</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
    <span class="k">var</span> <span class="nl">maxY</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
    <span class="k">var</span> <span class="nl">width</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
    <span class="k">var</span> <span class="nl">height</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="p">{</span> <span class="kr">get</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The <code>CGRect</code> Swift extensions for dimensional values make a huge difference in code readability, as each of the value helper functions is mapped to individual computed properties.</p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// instead of calling the function</span>
<span class="k">let</span> <span class="n">rightEdge</span> <span class="o">=</span> <span class="n">CGRectMaxX</span><span class="p">(</span><span class="n">view</span><span class="p">.</span><span class="n">frame</span><span class="p">)</span>

<span class="c1">// simply access the property</span>
<span class="k">let</span> <span class="n">leftEdge</span> <span class="o">=</span> <span class="n">view</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">minX</span>
</code></pre></div>
<h2 id="identities">Identities</h2>

<p>There are three special rectangle values, each of which have unique properties that are important to know about:</p>

<h3 id="cgrectzero,-cgrectnull,-&amp;-cgrectinfinite"><code>CGRectZero</code>, <code>CGRectNull</code>, &amp; <code>CGRectInfinite</code></h3>

<blockquote>
<ul>
<li><code>CGRect.zero</code> / <code>const CGRect CGRectZero</code>: A rectangle constant with location (0,0), and width and height of 0. The zero rectangle is equivalent to CGRectMake(0.0f, 0.0f, 0.0f, 0.0f).</li>
<li><code>CGRect.null</code> / <code>const CGRect CGRectNull</code>: The null rectangle. This is the rectangle returned when, for example, you intersect two disjoint rectangles. <strong>Note that the null rectangle is not the same as the zero rectangle</strong>.</li>
<li><code>CGRect.infinite</code> / <code>const CGRect CGRectInfinite</code>: A rectangle that has infinite extent.</li>
</ul>
</blockquote>

<p><code>CGRectZero</code> is perhaps the most useful of all of the special rectangle values. When initializing subviews, their frames are often initialized to <code>CGRectZero</code>, deferring their layout to <code>-layoutSubviews</code>.</p>

<p><code>CGRectNull</code> is distinct from <code>CGRectZero</code>, despite any implied correspondence to <code>NULL</code> == <code>0</code>. This value is conceptually similar to <code>NSNotFound</code>, in that it represents the absence of an expected value. Be aware of what functions can return <code>CGRectNull</code>, and be prepared to handle it accordingly, by testing with <code>CGRectIsNull</code>.</p>

<p><code>CGRectInfinite</code> is the most exotic of all, and has some of the most interesting properties. It intersects with all points and rectangles, contains all rectangles, and its union with any rectangle is itself. Use <code>CGRectIsInfinite</code> to check to see if a rectangle is infinite.</p>

<h2 id="relationships">Relationships</h2>

<p>Moving from one rectangle to two, a pair of rectangles can be either intersected or combined to create a new <code>CGRect</code>:</p>

<h3 id="cgrectintersection"><code>CGRectIntersection</code></h3>

<blockquote>
<p><code>intersect</code> / <code>CGRectIntersection</code>: Returns the intersection of two rectangles.</p>
</blockquote>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// methods:</span>
<span class="k">extension</span> <span class="bp">CGRect</span> <span class="p">{</span>
    <span class="k">func</span> <span class="n">intersect</span><span class="p">(</span><span class="nl">withRect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">CGRect</span>
    <span class="kr">mutating</span> <span class="k">func</span> <span class="n">intersectInPlace</span><span class="p">(</span><span class="nl">withRect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// function:</span>
<span class="k">func</span> <span class="n">CGRectIntersection</span><span class="p">(</span><span class="nl">rect1</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">,</span> <span class="nl">rect2</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">CGRect</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="bp">CGRect</span> <span class="n">CGRectIntersection</span> <span class="p">(</span>
  <span class="bp">CGRect</span> <span class="n">rect1</span><span class="p">,</span>
  <span class="bp">CGRect</span> <span class="n">rect2</span>
<span class="p">)</span>
</code></pre></div>
<p><code>CGRectIntersection</code> is a fast way to find the overlapping region between two views. The intersection of two non-overlapping rectangles is a null rect, but if you need to simply check for intersection or containment, use <code>intersects</code> / <code>CGRectIntersectsRect</code> or <code>contains</code> / <code>CGRectContainsRect</code> instead.</p>

<h3 id="cgrectunion"><code>CGRectUnion</code></h3>

<blockquote>
<p><code>union</code> / <code>CGRectUnion</code>: Returns the smallest rectangle that contains the two source rectangles.</p>
</blockquote>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// methods:</span>
<span class="k">extension</span> <span class="bp">CGRect</span> <span class="p">{</span>
    <span class="k">func</span> <span class="k">union</span><span class="p">(</span><span class="nl">rect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">CGRect</span>
    <span class="kr">mutating</span> <span class="k">func</span> <span class="n">unionInPlace</span><span class="p">(</span><span class="nl">rect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// function:</span>
<span class="k">func</span> <span class="n">CGRectUnion</span><span class="p">(</span><span class="nl">rect1</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">,</span> <span class="nl">rect2</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">CGRect</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="bp">CGRect</span> <span class="n">CGRectUnion</span> <span class="p">(</span>
  <span class="bp">CGRect</span> <span class="n">rect1</span><span class="p">,</span>
  <span class="bp">CGRect</span> <span class="n">rect2</span>
<span class="p">)</span>
</code></pre></div>
<p>Need a rectangle that can wrap two separate regions in your view? Remember that you can chain together different methods to produce the rectangle you need. Use <code>CGRectUnion</code> and negative values with <code>CGRectInset</code> to find a padded rectangle around two items:</p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="n">combinedRect</span> <span class="o">=</span> <span class="n">imageRect</span><span class="p">.</span><span class="k">union</span><span class="p">(</span><span class="n">textRect</span><span class="p">).</span><span class="n">insetBy</span><span class="p">(</span><span class="nl">dx</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="nl">dy</span><span class="p">:</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="bp">CGRect</span> <span class="n">combinedRect</span> <span class="o">=</span> <span class="n">CGRectInset</span><span class="p">(</span><span class="n">CGRectUnion</span><span class="p">(</span><span class="n">imageRect</span><span class="p">,</span> <span class="n">textRect</span><span class="p">),</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">);</span>
</code></pre></div>
<h2 id="and-finally...">And Finally&hellip;</h2>

<p>Behold, the most obscure, misunderstood, and useful of the <code>CGGeometry</code> functions: <code>CGRectDivide</code>.</p>

<h3 id="cgrectdivide"><code>CGRectDivide</code></h3>

<blockquote>
<p><code>CGRectDivide</code>: Divides a source rectangle into two component rectangles.</p>
</blockquote>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// method:</span>
<span class="k">extension</span> <span class="bp">CGRect</span> <span class="p">{</span>
    <span class="k">func</span> <span class="n">divide</span><span class="p">(</span><span class="nl">atDistance</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">,</span> <span class="nl">fromEdge</span><span class="p">:</span> <span class="bp">CGRectEdge</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="nl">slice</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">,</span> <span class="nl">remainder</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">// function:</span>
<span class="n">CGRectDivide</span><span class="p">(</span><span class="nl">rect</span><span class="p">:</span> <span class="bp">CGRect</span><span class="p">,</span> 
            <span class="nl">slice</span><span class="p">:</span> <span class="n">UnsafeMutablePointer</span><span class="o">&lt;</span><span class="bp">CGRect</span><span class="o">&gt;</span><span class="p">,</span>
        <span class="nl">remainder</span><span class="p">:</span> <span class="n">UnsafeMutablePointer</span><span class="o">&lt;</span><span class="bp">CGRect</span><span class="o">&gt;</span><span class="p">,</span>
           <span class="nl">amount</span><span class="p">:</span> <span class="n">CGFloat</span><span class="p">,</span>
             <span class="nl">edge</span><span class="p">:</span> <span class="bp">CGRectEdge</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="kt">void</span> <span class="n">CGRectDivide</span><span class="p">(</span>
  <span class="bp">CGRect</span> <span class="n">rect</span><span class="p">,</span>
  <span class="bp">CGRect</span> <span class="o">*</span><span class="n">slice</span><span class="p">,</span>
  <span class="bp">CGRect</span> <span class="o">*</span><span class="n">remainder</span><span class="p">,</span>
  <span class="n">CGFloat</span> <span class="n">amount</span><span class="p">,</span>
  <span class="bp">CGRectEdge</span> <span class="n">edge</span>
<span class="p">)</span>
</code></pre></div>
<p><code>CGRectDivide</code> divides a rectangle into two components in the following way:</p>

<ul>
<li>Take a rectangle and choose an <code>edge</code> (left, right, top, or bottom).</li>
<li>Measure out an <code>amount</code> from that edge.</li>
<li>Everything from the <code>edge</code> to the measured <code>amount</code> is stored in the rectangle referenced in the <code>slice</code> argument.</li>
<li>The rest of the original rectangle is stored in the <code>remainder</code> out argument.</li>
</ul>

<blockquote>
<p>Don&rsquo;t fret about the <code>UnsafeMutablePointer&lt;CGRect&gt;</code> in the Swift version; those pointers act just like <code>inout</code> properties in this case. Create your slice and remainder instances up-front, and prefix with an <code>&amp;</code> in the call. Or better yet, use the instance method on an existing <code>CGRect</code>:</p>

<p><code>let (slice, remainder) = frame.divide(120, fromEdge: .MinXEdge)</code></p>
</blockquote>

<p>That <code>edge</code> argument takes a value from the <code>CGRectEdge</code> enum:</p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">enum</span> <span class="bp">CGRectEdge</span> <span class="p">{</span>
   <span class="k">case</span> <span class="n">MinXEdge</span>
   <span class="k">case</span> <span class="n">MinYEdge</span>
   <span class="k">case</span> <span class="n">MaxXEdge</span>
   <span class="k">case</span> <span class="n">MaxYEdge</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="k">enum</span> <span class="bp">CGRectEdge</span> <span class="p">{</span>
   <span class="n">CGRectMinXEdge</span><span class="p">,</span>
   <span class="n">CGRectMinYEdge</span><span class="p">,</span>
   <span class="n">CGRectMaxXEdge</span><span class="p">,</span>
   <span class="n">CGRectMaxYEdge</span>
<span class="p">}</span>
</code></pre></div>
<p><code>CGRectDivide</code> is perfect for dividing up available space among several views (call it on subsequent <code>remainder</code> amounts to accommodate more than two views). Give it a try next time you&rsquo;re manually laying-out a <code>UITableViewCell</code>.</p>

<hr>

<p>So what if you didn&rsquo;t pay attention in Geometry class—this is the real world, and in the real world, you have <code>CGGeometry.h</code>.</p>

<p>Know it well, and you&rsquo;ll be on your way to discovering great new user interfaces in your apps. Do good enough of a job with that, and you may run into the greatest arithmetic problem of all: adding up all of the money you&rsquo;ll make with your awesome new app. Mathematical!</p>

  </div>

  <footer role="complementary">
    
    <section id="revisions">
      <small>NSMutableHipster</small>

      <p>
      Questions? Corrections?  <a href="https://github.com/NSHipster/articles/issues">Issues</a> and <a href="https://github.com/NSHipster/articles/blob/master/2012-12-17-cggeometry.md">pull requests</a> are always welcome — NSHipster is made better by readers like you.
      </p>
      
      <p>
      
        
            <em>This article uses Swift version 2.0 and was last reviewed on September 8, 2015.</em>
        
      
      Find status information for all articles on the <a href="/status/">status page</a>.
      </p>
      
      <dl>
      
        <dt>February 17<sup>th</sup>, 2015</dt>
        <dd><p>Added Swift examples and information about how <code>Swift + CGRect == awesome</code>; added section for <code>CGRectIntersect</code> and <code>CGRectUnion</code>.</p>
</dd>
      
      </dl>
    </section>
    

    <section id="follow">
      <small>Follow NSHipster</small>

      <ul>
        <li class="twitter">
          <a href="https://twitter.com/intent/user?screen_name=NSHipster" title="Follow NSHipster on Twitter"><i class="icon-twitter" aria-hidden="true"></i></a>
        </li>
        <li class="facebook">
          <a href="https://www.facebook.com/NSHipster" title="Like NSHipster on Facebook"><i class="icon-facebook" aria-hidden="true"></i></a>
        </li>
        <li class="google-plus">
          <a href="https://plus.google.com/+NSHipster" title="Follow NSHipster on G+"><i class="icon-googleplus" aria-hidden="true"></i></a>
        </li>
        <li class="rss">
          <a href="/feed.xml" title="Subscribe to the NSHipster RSS Feed"><i class="icon-feed" aria-hidden="true"></i></a>
        </li>
      </ul>

      <form action="https://tinyletter.com/NSHipster" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/NSHipster', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <label for="tlemail" hidden style="display:none;">Enter Your Email Address</label>
        <input type="email" name="email" id="tlemail" placeholder="Your Email Address"/>
        <input type="hidden" name="embed" value="1"/>
        <input type="submit" value="Join the Newsletter"/>
      </form>
    </section>

    <section id="attribution">
      
  <div class="contributor" itemprop="author" itemscope itemtype="http://data-vocabulary.org/Person">
    <small>Written by</small>

    <img class="avatar" alt="Mattt Thompson" itemprop="image" src="http://nshipster.s3.amazonaws.com/mattt-thompson.jpg" draggable="false"/>
    <div class="details">
      <span itemprop="name"><a href="/authors/mattt-thompson/">Mattt Thompson</a></span>

      <p><a href="https://github.com/mattt">Mattt Thompson</a> (<a href="https://twitter.com/mattt">@mattt</a>) is a writer and developer from the Rustbelt.</p>


      
        <a href="https://plus.google.com/106751358503565042647?rel=author" rel="author"></a>
      
    </div>
  </div>


    </section>

    

    

    <section>
      <div id="continue">
        <small>Next Article</small>
        
        

          <article>
            <h1 class="title">
              <a href="/new-years-2013/" title="Reader Submissions -<br/> New Year's 2013" rel="next">Reader Submissions -<br/> New Year's 2013</a>
            </h1>

            <p>In celebration of the forthcoming <code>year++</code>, I thought it&rsquo;d be fun to compile a list of some of your favorite tips and tricks of the trade. Readers were asked to submit their favorite piece of Objective-C trivia, framework arcana, hidden Xcode feature, or anything else they thought is cool.</p>

          </article>
      </div>

      
      
        
        
      

      <div id="related">
        <small>Related Articles</small>

        <ul>
          
          
          
            <li>
              <a href="/launch-options/" title="UIApplicationDelegate launchOptions">UIApplicationDelegate launchOptions</a>
            </li>
            
          
          
            <li>
              <a href="/uiactivityviewcontroller/" title="UIActivityViewController">UIActivityViewController</a>
            </li>
            
          
          
            <li>
              <a href="/multipeer-connectivity/" title="Multipeer Connectivity">Multipeer Connectivity</a>
            </li>
            
          
          
            <li>
              <a href="/nssortdescriptor/" title="NSSortDescriptor">NSSortDescriptor</a>
            </li>
            
          
        </ul>
      </div>
    </section>
  </footer>
</article>

    </div>

    <footer role="contentinfo">
      <section class="credits colophon">
        <p>
          Questions? Corrections? <a href="https://twitter.com/NSHipster">@NSHipster</a> or <a href="https://github.com/NSHipster/articles">on GitHub</a>.
        </p>
        <p>
          <i aria-hidden="true" class="icon-cc"></i>
          <i aria-hidden="true" class="icon-cc-by"></i>
          <i aria-hidden="true" class="icon-cc-nc"></i>
          NSHipster.com is released under a <a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license">Creative Commons BY-NC License</a>.
        </p>
        <p><abbr title="International Standard Serial Number">ISSN</abbr> 2373-9800</p>
        <p lang="zh-Hans"><a href="http://nshipster.cn" hreflang="zh-Hans" title="Articles also available in Chinese">文章也可在中文版阅读</a>。</p>
        <a href="https://plus.google.com/105091289906267717942" rel="publisher"></a>
      </section>
    </footer>
  </div>

  <script>
    if (window.navigator && window.navigator.loadPurpose === "preview") {
      window.location.href = "http://nshipster.com/topsites_preview.html";
    }
  </script>

  <script async>
    var Swiftype = window.Swiftype || {};
    (function() {
      Swiftype.key = 'Q5jNBiR8qVs5xE5dNect';
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.async = true;
      script.src = "//swiftype.com/embed.js";
      var entry = document.getElementsByTagName('script')[0];
      document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
    }());
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49868484-1', 'nshipster.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
