<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  
    <title>Method Swizzling - NSHipster</title>
    <meta name="description" content="Method swizzling is the process of changing the implementation of an existing selector. It's a technique made possible by the fact that method invocations in Objective-C can be changed at runtime, by changing how selectors are mapped to underlying functions in a class's dispatch table."/>
    <link rel="canonical" href="http://nshipster.com/method-swizzling/"/>
  
  
  
  
  <meta name="author" content="Mattt Thompson"/>
  
  <meta name="revisit-after" content="7 days"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"/>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://nshipster.com/feed.xml"/>
  <link rel="stylesheet" type="text/css" href="http://nshipster.com/css/screen.css"/>
  <link rel="apple-touch-icon" href="/touch-icon-iphone.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="/touch-icon-ipad.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="/touch-icon-iphone-retina.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="/touch-icon-ipad-retina.png"/>
  <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico"/>
  <link rel="mask-icon" sizes="any" href="/website_icon.svg" color="black"/>
  <link rel="author" type="text/plain" href="http://nshipster.com/humans.txt"/>

  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@NSHipster"/>
  
  <meta name="twitter:creator" content="@mattt"/>
  
  
    <meta name="twitter:title" content="Method Swizzling"/>
    <meta name="twitter:description" content="Method swizzling is the process of changing the implementation of an existing selector. It&#39;s a technique made possible by the fact that method invocations in Objective-C can be changed at runtime, by changing how selectors are mapped to underlying functions in a class&#39;s dispatch table."/>
  
  <meta property="twitter:account_id" content="629523445"/>

  <meta property="og:site_name" content="NSHipster"/>
  <meta property="og:image" content="http://nshipster.com/touch-icon-ipad-retina.png"/>
  
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Method Swizzling"/>
    <meta property="og:url" content="http://nshipster.com/method-swizzling/"/>
    <meta property="og:description" content="Method swizzling is the process of changing the implementation of an existing selector. It&#39;s a technique made possible by the fact that method invocations in Objective-C can be changed at runtime, by changing how selectors are mapped to underlying functions in a class&#39;s dispatch table."/>
    <meta property="article:published_time" content="2014-02-17T00:00:00-08:00"/>
    <meta property="article:modified_time" content="2015-12-09T21:06:40-08:00"/>
    <meta property="article:tag" content="objective-c"/>
    <meta property="article:publisher" content="https://www.facebook.com/NSHipster">
  

  
    <meta property="st:title" content="Method Swizzling"/>
    <meta property="st:type" content="article"/>
  
  
  <meta property="nshipster:hide-single-lang" content="swift,objective-c"/>
</head>

<body itemscope itemtype="http://schema.org/WebPage">

  <script src="http://nshipster.com/js/zepto.min.js"></script>
  <script src="http://nshipster.com/js/application.js"></script>

  <div role="container">
    <header role="banner">
      <h1 id="logo">
        <a href="/">
          <svg id="ns" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
<g>
  <path fill="#F58020" d="M0.6,1h13.7L27,24.4h0.1V1h12.7v43.6H26.8L13.4,20.8h-0.1v23.8H0.6V1z"/>
  <path fill="#F58020" d="M51.4,30c0,1.1,0.2,2.1,0.5,2.9c1,2.6,3.9,3.2,6.4,3.2c2.2,0,5.6-0.7,5.6-4c0-2.3-1.9-2.9-9.4-5
    c-6.9-2-14.8-3.8-14.8-12.6C39.7,4.3,48.3,0,57.3,0c9.5,0,17.8,3.6,18.2,14.2H62.8c0.2-1.6-0.5-2.7-1.6-3.5
    c-1.1-0.8-2.6-1.1-4-1.1c-1.8,0-4.8,0.5-4.8,2.9c0.2,3.1,6.5,3.8,12.6,5.5c6.2,1.7,12.3,4.6,12.3,12.6c0,11.4-10.4,15-20.1,15
    c-4.9,0-19-1.8-19.2-15.7H51.4z"/>
</g>
</svg>

          <svg id="mustache" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
  <g transform="translate(0,-952.36217)" opacity="0.95">
    <path id="path2987" fill="#010101" d="M28.2,971.4c-10,0.5-19.1,13.3-28.2,2.1c0,15.1,23.7,30.5,39.8,16.3
      c16,14.1,39.8-1.3,39.8-16.3c-12.5,15.4-25-14.4-39.8,4.5C35.8,972.7,31.9,971.2,28.2,971.4z"/>
  </g>
</svg>

        </a>

        <span hidden style="display:none;">NSHipster</span>
      </h1>

      <form role="search">
        <input type="text" id="st-search-input" class="st-search-input" />
      </form>

      
    </header>

    <div id="main" role="main" itemprop="mainContentOfPage">
      

<article role="article" itemscope itemtype="http://schema.org/Article">
  <header role="heading">
    <h1 class="title" itemprop="name">
      <a href="/method-swizzling/">Method Swizzling</a>
    </h1>

    <h2>
    
      Written by <a class="author" href="/authors/mattt-thompson/">Mattt Thompson</a> —
    
    <time datetime="2014-02-17T00:00:00-08:00" itemprop="datePublished">February 17<sup>th</sup>, 2014</time>
    
    </h2>

  </header>

  <div class="content" itemprop="articleBody" data-swiftype-index="true">
    <blockquote>
<p>If you could blow up the world with the flick of a switch<br/>
Would you do it?<br/>
If you could make everybody poor just so you could be rich<br/>
Would you do it?<br/>
If you could watch everybody work while you just lay on your back<br/>
Would you do it?<br/>
If you could take all the love without giving any back<br/>
Would you do it?<br/>
And so we cannot know ourselves or what we&rsquo;d really do&hellip;<br/>
With all your power &hellip; What would you do?<br/>
<cite><strong>The Flaming Lips</strong>, <em><a href="http://en.wikipedia.org/wiki/The_Yeah_Yeah_Yeah_Song_(With_All_Your_Power)">&ldquo;The Yeah Yeah Yeah Song (With All Your Power)&rdquo;</a></em></cite></p>
</blockquote>

<p>In last week&rsquo;s article about <a href="http://nshipster.com/associated-objects/">associated objects</a>, we began to explore the dark arts of the Objective-C runtime. This week, we venture further, to discuss what is perhaps the most contentious of runtime hackery techniques: method swizzling.</p>

<hr>

<p>Method swizzling is the process of changing the implementation of an existing selector. It&rsquo;s a technique made possible by the fact that method invocations in Objective-C can be changed at runtime, by changing how selectors are mapped to underlying functions in a class&rsquo;s dispatch table.</p>

<p>For example, let&rsquo;s say we wanted to track how many times each view controller is presented to a user in an iOS app:</p>

<p>Each view controller could add tracking code to its own implementation of <code>viewDidAppear:</code>, but that would make for a ton of duplicated boilerplate code. Subclassing would be another possibility, but it would require subclassing <code>UIViewController</code>, <code>UITableViewController</code>, <code>UINavigationController</code>, and every other view controller class—an approach that would also suffer from code duplication.</p>

<p>Fortunately, there is another way: <strong>method swizzling</strong> from a category. Here&rsquo;s how to do it:</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="cp">#import &lt;objc/runtime.h&gt;</span>

<span class="k">@implementation</span> <span class="bp">UIViewController</span> <span class="nl">(Tracking)</span>

<span class="p">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">load</span> <span class="p">{</span>
    <span class="k">static</span> <span class="kt">dispatch_once_t</span> <span class="n">onceToken</span><span class="p">;</span>
    <span class="n">dispatch_once</span><span class="p">(</span><span class="o">&amp;</span><span class="n">onceToken</span><span class="p">,</span> <span class="o">^</span><span class="p">{</span>
        <span class="kt">Class</span> <span class="k">class</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span> <span class="k">class</span><span class="p">];</span>

        <span class="kt">SEL</span> <span class="n">originalSelector</span> <span class="o">=</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">viewWillAppear</span><span class="p">:);</span>
        <span class="kt">SEL</span> <span class="n">swizzledSelector</span> <span class="o">=</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">xxx_viewWillAppear</span><span class="p">:);</span>

        <span class="n">Method</span> <span class="n">originalMethod</span> <span class="o">=</span> <span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="k">class</span><span class="p">,</span> <span class="n">originalSelector</span><span class="p">);</span>
        <span class="n">Method</span> <span class="n">swizzledMethod</span> <span class="o">=</span> <span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="k">class</span><span class="p">,</span> <span class="n">swizzledSelector</span><span class="p">);</span>

        <span class="c1">// When swizzling a class method, use the following:</span>
        <span class="c1">// Class class = object_getClass((id)self);</span>
        <span class="c1">// ...</span>
        <span class="c1">// Method originalMethod = class_getClassMethod(class, originalSelector);</span>
        <span class="c1">// Method swizzledMethod = class_getClassMethod(class, swizzledSelector);</span>

        <span class="kt">BOOL</span> <span class="n">didAddMethod</span> <span class="o">=</span>
            <span class="n">class_addMethod</span><span class="p">(</span><span class="k">class</span><span class="p">,</span>
                <span class="n">originalSelector</span><span class="p">,</span>
                <span class="n">method_getImplementation</span><span class="p">(</span><span class="n">swizzledMethod</span><span class="p">),</span>
                <span class="n">method_getTypeEncoding</span><span class="p">(</span><span class="n">swizzledMethod</span><span class="p">));</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">didAddMethod</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">class_replaceMethod</span><span class="p">(</span><span class="k">class</span><span class="p">,</span>
                <span class="n">swizzledSelector</span><span class="p">,</span>
                <span class="n">method_getImplementation</span><span class="p">(</span><span class="n">originalMethod</span><span class="p">),</span>
                <span class="n">method_getTypeEncoding</span><span class="p">(</span><span class="n">originalMethod</span><span class="p">));</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">method_exchangeImplementations</span><span class="p">(</span><span class="n">originalMethod</span><span class="p">,</span> <span class="n">swizzledMethod</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="cp">#pragma mark - Method Swizzling</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">xxx_viewWillAppear:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span> <span class="p">{</span>
    <span class="p">[</span><span class="nb">self</span> <span class="nl">xxx_viewWillAppear</span><span class="p">:</span><span class="n">animated</span><span class="p">];</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;viewWillAppear: %@&quot;</span><span class="p">,</span> <span class="nb">self</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">@end</span>
</code></pre></div>
<blockquote>
<p>In computer science, <a href="http://en.wikipedia.org/wiki/Pointer_swizzling">pointer swizzling</a> is the conversion of references based on name or position to direct pointer references.  While the origins of Objective-C&rsquo;s usage of the term are not entirely known, it&rsquo;s understandable why it was co-opted, since method swizzling involves changing the reference of a function pointer by its selector.</p>
</blockquote>

<p>Now, when any instance of <code>UIViewController</code>, or one of its subclasses invokes <code>viewWillAppear:</code>, a log statement will print out.</p>

<p>Injecting behavior into the view controller lifecycle, responder events, view drawing, or the Foundation networking stack are all good examples of how method swizzling can be used to great effect. There are a number of other occasions when swizzling would be an appropriate technique, and they become increasingly apparent the more seasoned an Objective-C developer becomes.</p>

<p>Regardless of <em>why</em> or <em>where</em> one chooses to use swizzling, the <em>how</em> remains absolute:</p>

<h2 id="+load-vs.-+initialize">+load vs. +initialize</h2>

<p><strong>Swizzling should always be done in <code>+load</code>.</strong></p>

<p>There are two methods that are automatically invoked by the Objective-C runtime for each class. <code>+load</code> is sent when the class is initially loaded, while <code>+initialize</code> is called just before the application calls its first method on that class or an instance of that class. Both are optional, and are executed only if the method is implemented.</p>

<p>Because method swizzling affects global state, it is important to minimize the possibility of race conditions. <code>+load</code> is guaranteed to be loaded during class initialization, which provides a modicum of consistency for changing system-wide behavior. By contrast, <code>+initialize</code> provides no such guarantee of when it will be executed—in fact, it may <em>never</em> be called, if that class is never messaged directly by the app.</p>

<h2 id="dispatch_once">dispatch_once</h2>

<p><strong>Swizzling should always be done in a <code>dispatch_once</code>.</strong></p>

<p>Again, because swizzling changes global state, we need to take every precaution available to us in the runtime. Atomicity is one such precaution, as is a guarantee that code will be executed exactly once, even across different threads. Grand Central Dispatch&rsquo;s <code>dispatch_once</code> provides both of these desirable behaviors, and should be considered as much a standard practice for swizzling as they are for <a href="http://nshipster.com/c-storage-classes/">initializing singletons</a>.</p>

<h2 id="selectors,-methods,-&amp;-implementations">Selectors, Methods, &amp; Implementations</h2>

<p>In Objective-C, <em>selectors</em>, <em>methods</em>, and <em>implementations</em> refer to particular aspects of the runtime, although in normal conversation, these terms are often used interchangeably to generally refer to the process of message sending.</p>

<p>Here is how each is described in Apple&rsquo;s <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html#//apple_ref/c/func/method_getImplementation">Objective-C Runtime Reference</a>:</p>

<blockquote>
<ul>
<li>Selector (<code>typedef struct objc_selector *SEL</code>): Selectors are used to represent the name of a method at runtime. A method selector is a C string that has been registered (or &ldquo;mapped&rdquo;) with the Objective-C runtime. Selectors generated by the compiler are automatically mapped by the runtime when the class is loaded .</li>
<li>Method (<code>typedef struct objc_method *Method</code>): An opaque type that represents a method in a class definition.</li>
<li>Implementation (<code>typedef id (*IMP)(id, SEL, ...)</code>): This data type is a pointer to the start of the function that implements the method. This function uses standard C calling conventions as implemented for the current CPU architecture. The first argument is a pointer to self (that is, the memory for the particular instance of this class, or, for a class method, a pointer to the metaclass). The second argument is the method selector. The method arguments follow.</li>
</ul>
</blockquote>

<p>The best way to understand the relationship between these concepts is as follows: a class (<code>Class</code>) maintains a dispatch table to resolve messages sent at runtime; each entry in the table is a method (<code>Method</code>), which keys a particular name, the selector (<code>SEL</code>), to an implementation (<code>IMP</code>), which is a pointer to an underlying C function.</p>

<p>To swizzle a method is to change a class&rsquo;s dispatch table in order to resolve messages from an existing selector to a different implementation, while aliasing the original method implementation to a new selector.</p>

<h2 id="invoking-_cmd">Invoking <code>_cmd</code></h2>

<p>It may appear that the following code will result in an infinite loop:</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">xxx_viewWillAppear:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span> <span class="p">{</span>
    <span class="p">[</span><span class="nb">self</span> <span class="nl">xxx_viewWillAppear</span><span class="p">:</span><span class="n">animated</span><span class="p">];</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;viewWillAppear: %@&quot;</span><span class="p">,</span> <span class="n">NSStringFromClass</span><span class="p">([</span><span class="nb">self</span> <span class="k">class</span><span class="p">]));</span>
<span class="p">}</span>
</code></pre></div>
<p>Surprisingly, it won&rsquo;t. In the process of swizzling, <code>xxx_viewWillAppear:</code> has been reassigned to the original implementation of <code>UIViewController -viewWillAppear:</code>. It&rsquo;s good programmer instinct for calling a method on <code>self</code> in its own implementation to raise a red flag, but in this case, it makes sense if we remember what&rsquo;s <em>really</em> going on. However, if we were to call <code>viewWillAppear:</code> in this method, it <em>would</em> cause an infinite loop, since the implementation of this method will be swizzled to the <code>viewWillAppear:</code> selector at runtime.</p>

<blockquote>
<p>Remember to prefix your swizzled method name, the same way you might any other contentious category method.</p>
</blockquote>

<h2 id="considerations">Considerations</h2>

<p>Swizzling is widely considered a voodoo technique, prone to unpredictable behavior and unforeseen consequences. While it is not the safest thing to do, method swizzling is reasonably safe, when the following precautions are taken:</p>

<ul>
<li><strong>Always invoke the original implementation of a method (unless you have a good reason not to)</strong>: APIs provide a contract for input and output, but the implementation in-between is a black box. Swizzling a method and not calling the original implementation may cause underlying assumptions about private state to break, along with the rest of your application.</li>
<li><strong>Avoid collisions</strong>: Prefix category methods, and make damn well sure that nothing else in your code base (or any of your dependencies) are monkeying around with the same piece of functionality as you are.</li>
<li><strong>Understand what&rsquo;s going on</strong>: Simply copy-pasting swizzling code without understanding how it works is not only dangerous, but is a wasted opportunity to learn a lot about the Objective-C runtime. Read through the <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ObjCRuntimeRef/Reference/reference.html#//apple_ref/c/func/method_getImplementation">Objective-C Runtime Reference</a> and browse <code>&lt;objc/runtime.h&gt;</code> to get a good sense of how and why things happen. <em>Always endeavor to replace magical thinking with understanding.</em></li>
<li><strong>Proceed with caution</strong>: No matter how confident you are about swizzling Foundation, UIKit, or any other built-in framework, know that everything could break in the next release. Be ready for that, and go the extra mile to ensure that in playing with fire, you don&rsquo;t get <code>NSBurned</code>.</li>
</ul>

<blockquote>
<p>Feeling gun shy about invoking the Objective-C runtime directly? <a href="https://twitter.com/rentzsch">Jonathan ‘Wolf’ Rentzsch</a> provides a battle-tested, CocoaPods-ready library called <a href="https://github.com/rentzsch/jrswizzle">JRSwizzle</a> that will take care of everything for you.</p>
</blockquote>

<hr>

<p>Like <a href="http://nshipster.com/associated-objects/">associated objects</a>, method swizzling is a powerful technique when you need it, but should be used sparingly.</p>

  </div>

  <footer role="complementary">
    
    <section id="revisions">
      <small>NSMutableHipster</small>

      <p>
      Questions? Corrections?  <a href="https://github.com/NSHipster/articles/issues">Issues</a> and <a href="https://github.com/NSHipster/articles/blob/master/2014-02-17-method-swizzling.md">pull requests</a> are always welcome — NSHipster is made better by readers like you.
      </p>
      
      <p>
      
            <em>This article was last reviewed on January 28, 2015.</em>
      
      Find status information for all articles on the <a href="/status/">status page</a>.
      </p>
      
      <dl>
      
      </dl>
    </section>
    

    <section id="follow">
      <small>Follow NSHipster</small>

      <ul>
        <li class="twitter">
          <a href="https://twitter.com/intent/user?screen_name=NSHipster" title="Follow NSHipster on Twitter"><i class="icon-twitter" aria-hidden="true"></i></a>
        </li>
        <li class="facebook">
          <a href="https://www.facebook.com/NSHipster" title="Like NSHipster on Facebook"><i class="icon-facebook" aria-hidden="true"></i></a>
        </li>
        <li class="google-plus">
          <a href="https://plus.google.com/+NSHipster" title="Follow NSHipster on G+"><i class="icon-googleplus" aria-hidden="true"></i></a>
        </li>
        <li class="rss">
          <a href="/feed.xml" title="Subscribe to the NSHipster RSS Feed"><i class="icon-feed" aria-hidden="true"></i></a>
        </li>
      </ul>

      <form action="https://tinyletter.com/NSHipster" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/NSHipster', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <label for="tlemail" hidden style="display:none;">Enter Your Email Address</label>
        <input type="email" name="email" id="tlemail" placeholder="Your Email Address"/>
        <input type="hidden" name="embed" value="1"/>
        <input type="submit" value="Join the Newsletter"/>
      </form>
    </section>

    <section id="attribution">
      
  <div class="contributor" itemprop="author" itemscope itemtype="http://data-vocabulary.org/Person">
    <small>Written by</small>

    <img class="avatar" alt="Mattt Thompson" itemprop="image" src="http://nshipster.s3.amazonaws.com/mattt-thompson.jpg" draggable="false"/>
    <div class="details">
      <span itemprop="name"><a href="/authors/mattt-thompson/">Mattt Thompson</a></span>

      <p><a href="https://github.com/mattt">Mattt Thompson</a> (<a href="https://twitter.com/mattt">@mattt</a>) is a writer and developer from the Rustbelt.</p>


      
        <a href="https://plus.google.com/106751358503565042647?rel=author" rel="author"></a>
      
    </div>
  </div>


    </section>

    

    

    <section>
      <div id="continue">
        <small>Next Article</small>
        
        

          <article>
            <h1 class="title">
              <a href="/namespacing/" title="Namespacing" rel="next">Namespacing</a>
            </h1>

            <p>Namespacing is the preeminent bugbear of Objective-C. A cosmetic quirk with global implications, the language&rsquo;s lack of identifier containers remains a source of prodigious quantities of caremad for armchair language critics.</p>

          </article>
      </div>

      
      
        
        
      

      <div id="related">
        <small>Related Articles</small>

        <ul>
          
          
          
            <li>
              <a href="/instancetype/" title="instancetype">instancetype</a>
            </li>
            
          
          
            <li>
              <a href="/clang-diagnostics/" title="Clang Diagnostics">Clang Diagnostics</a>
            </li>
            
          
          
            <li>
              <a href="/namespacing/" title="Namespacing">Namespacing</a>
            </li>
            
          
          
            <li>
              <a href="/object-subscripting/" title="Object Subscripting">Object Subscripting</a>
            </li>
            
          
        </ul>
      </div>
    </section>
  </footer>
</article>

    </div>

    <footer role="contentinfo">
      <section class="credits colophon">
        <p>
          Questions? Corrections? <a href="https://twitter.com/NSHipster">@NSHipster</a> or <a href="https://github.com/NSHipster/articles">on GitHub</a>.
        </p>
        <p>
          <i aria-hidden="true" class="icon-cc"></i>
          <i aria-hidden="true" class="icon-cc-by"></i>
          <i aria-hidden="true" class="icon-cc-nc"></i>
          NSHipster.com is released under a <a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license">Creative Commons BY-NC License</a>.
        </p>
        <p><abbr title="International Standard Serial Number">ISSN</abbr> 2373-9800</p>
        <p lang="zh-Hans"><a href="http://nshipster.cn" hreflang="zh-Hans" title="Articles also available in Chinese">文章也可在中文版阅读</a>。</p>
        <a href="https://plus.google.com/105091289906267717942" rel="publisher"></a>
      </section>
    </footer>
  </div>

  <script>
    if (window.navigator && window.navigator.loadPurpose === "preview") {
      window.location.href = "http://nshipster.com/topsites_preview.html";
    }
  </script>

  <script async>
    var Swiftype = window.Swiftype || {};
    (function() {
      Swiftype.key = 'Q5jNBiR8qVs5xE5dNect';
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.async = true;
      script.src = "//swiftype.com/embed.js";
      var entry = document.getElementsByTagName('script')[0];
      document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
    }());
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49868484-1', 'nshipster.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
