<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  
    <title>Back Row - NSHipster</title>
    <meta name="description" content="Back Row is a private framework used in the Apple TV user experience. Rather than waiting for Apple to open up the Apple TV SDK, one can take matters into their own hands."/>
    <link rel="canonical" href="http://nshipster.com/backrow/"/>
  
  
  
  
  <meta name="author" content="Mattt Thompson"/>
  
  <meta name="revisit-after" content="7 days"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"/>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://nshipster.com/feed.xml"/>
  <link rel="stylesheet" type="text/css" href="http://nshipster.com/css/screen.css"/>
  <link rel="apple-touch-icon" href="/touch-icon-iphone.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="/touch-icon-ipad.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="/touch-icon-iphone-retina.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="/touch-icon-ipad-retina.png"/>
  <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico"/>
  <link rel="mask-icon" sizes="any" href="/website_icon.svg" color="black"/>
  <link rel="author" type="text/plain" href="http://nshipster.com/humans.txt"/>

  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@NSHipster"/>
  
  <meta name="twitter:creator" content="@mattt"/>
  
  
    <meta name="twitter:title" content="Back Row"/>
    <meta name="twitter:description" content="Back Row is a private framework used in the Apple TV user experience. Rather than waiting for Apple to open up the Apple TV SDK, one can take matters into their own hands."/>
  
  <meta property="twitter:account_id" content="629523445"/>

  <meta property="og:site_name" content="NSHipster"/>
  <meta property="og:image" content="http://nshipster.com/touch-icon-ipad-retina.png"/>
  
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Back Row"/>
    <meta property="og:url" content="http://nshipster.com/backrow/"/>
    <meta property="og:description" content="Back Row is a private framework used in the Apple TV user experience. Rather than waiting for Apple to open up the Apple TV SDK, one can take matters into their own hands."/>
    <meta property="article:published_time" content="2013-03-04T00:00:00-08:00"/>
    <meta property="article:modified_time" content="2015-12-09T21:34:50-08:00"/>
    <meta property="article:tag" content=""/>
    <meta property="article:publisher" content="https://www.facebook.com/NSHipster">
  

  
    <meta property="st:title" content="Back Row"/>
    <meta property="st:type" content="article"/>
  
  
  <meta property="nshipster:hide-single-lang" content="swift,objective-c"/>
</head>

<body itemscope itemtype="http://schema.org/WebPage">

  <script src="http://nshipster.com/js/zepto.min.js"></script>
  <script src="http://nshipster.com/js/application.js"></script>

  <div role="container">
    <header role="banner">
      <h1 id="logo">
        <a href="/">
          <svg id="ns" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
<g>
  <path fill="#F58020" d="M0.6,1h13.7L27,24.4h0.1V1h12.7v43.6H26.8L13.4,20.8h-0.1v23.8H0.6V1z"/>
  <path fill="#F58020" d="M51.4,30c0,1.1,0.2,2.1,0.5,2.9c1,2.6,3.9,3.2,6.4,3.2c2.2,0,5.6-0.7,5.6-4c0-2.3-1.9-2.9-9.4-5
    c-6.9-2-14.8-3.8-14.8-12.6C39.7,4.3,48.3,0,57.3,0c9.5,0,17.8,3.6,18.2,14.2H62.8c0.2-1.6-0.5-2.7-1.6-3.5
    c-1.1-0.8-2.6-1.1-4-1.1c-1.8,0-4.8,0.5-4.8,2.9c0.2,3.1,6.5,3.8,12.6,5.5c6.2,1.7,12.3,4.6,12.3,12.6c0,11.4-10.4,15-20.1,15
    c-4.9,0-19-1.8-19.2-15.7H51.4z"/>
</g>
</svg>

          <svg id="mustache" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
  <g transform="translate(0,-952.36217)" opacity="0.95">
    <path id="path2987" fill="#010101" d="M28.2,971.4c-10,0.5-19.1,13.3-28.2,2.1c0,15.1,23.7,30.5,39.8,16.3
      c16,14.1,39.8-1.3,39.8-16.3c-12.5,15.4-25-14.4-39.8,4.5C35.8,972.7,31.9,971.2,28.2,971.4z"/>
  </g>
</svg>

        </a>

        <span hidden style="display:none;">NSHipster</span>
      </h1>

      <form role="search">
        <input type="text" id="st-search-input" class="st-search-input" />
      </form>

      
    </header>

    <div id="main" role="main" itemprop="mainContentOfPage">
      

<article role="article" itemscope itemtype="http://schema.org/Article">
  <header role="heading">
    <h1 class="title" itemprop="name">
      <a href="/backrow/">Back Row</a>
    </h1>

    <h2>
    
      Written by <a class="author" href="/authors/mattt-thompson/">Mattt Thompson</a> —
    
    <time datetime="2013-03-04T00:00:00-08:00" itemprop="datePublished">March 4<sup>th</sup>, 2013</time>
    
    </h2>

  </header>

  <div class="content" itemprop="articleBody" data-swiftype-index="true">
    <p>For years, many have predicted the announcement of an Apple TV SDK. We all know it&rsquo;s coming. It has to. And it will be amazing when it happens&hellip; whenever that is.</p>

<p>Everything is in place for Apple to kick-start the next generation of television, completely leap-frogging the current, pathetic crop of &ldquo;smart TVs&rdquo; like the iPhone did with its &ldquo;smart phone&rdquo; predecessors. All they need to do is open up the ecosystem.</p>

<p>But rather than simply wait for the future, we can take matters into our own hands, with <a href="https://github.com/nygard/class-dump">class-dump</a> and some reverse-engineering chutzpah.</p>

<p>Voila! <a href="http://appletv.ericiii.net/5.2/annotated.php">A class dump of the Apple TV private framework headers</a></p>

<p>That&rsquo;s right: this edition of NSHipster covers a topic so obscure, <em>it doesn&rsquo;t even officially exist</em>.</p>

<hr>

<p>Back Row is a private framework used in the Apple TV user experience. Its name is a reference to <a href="http://en.wikipedia.org/wiki/Front_Row_(software)">Front Row</a>, an application included in OS X Tiger – 10.6 that paired with the Apple Remote to transform the Mac into a couch-friendly media center.</p>

<p>The original Apple TV could be described as a &ldquo;short Mac Mini&rdquo;, which ran a modified version of Front Row on a stripped-down build of OS X. It was little more than an iTunes remote, streaming content from a shared iTunes library on a separate computer.</p>

<p>The second generation of the device took a smaller form factor, shifting its focus from media storage and management to on-demand streaming. The second generation Apple TV user interface reflected this in both its design and implementation. BackRow was ported from OS X to iOS, as it transcended its original role coordinating iTunes libraries to become an extensible platform for streaming media appliances.</p>

<h2 id="back-row-&amp;-uikit">Back Row &amp; UIKit</h2>

<p>Back Row (name prefix: <code>BR</code>) bears a striking resemblance to UIKit, with many of the familiar metaphors and conventions of iOS development.</p>

<p>Here&rsquo;s a brief list of some Back Row classes &amp; protocols and their UIKit equivalents:</p>

<table>
  <thead>
    <tr>
      <th>Back Row</th>
      <th>UIKit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><tt>&lt;BRResponder&gt;</tt></td>
      <td><tt>&lt;UIResponder&gt;</tt></td>
    </tr>
    <tr>
      <td><tt>&lt;BRAppliance&gt;</tt></td>
      <td><tt>&lt;UIApplication&gt;</tt></td>
    </tr>
    <tr>
      <td><tt>BRController</tt></td>
      <td><tt>UIViewController</tt></td>
    </tr>
    <tr>
      <td><tt>BRMenuController</tt></td>
      <td><tt>UITableViewController</tt></td>
    </tr>
    <tr>
      <td><tt>BRControllerStack</tt></td>
      <td><tt>UINavigationController</tt></td>
    </tr>
    <tr>
      <td><tt>BRGridView</tt></td>
      <td><tt>UICollectionView</tt></td>
    </tr>
    <tr>
      <td><tt>BRListView</tt></td>
      <td><tt>UITableView</tt></td>
    </tr>
  </tbody>
</table>

<h2 id="apple-tv-appliance-structure">Apple TV Appliance Structure</h2>

<p><img src="http://nshipster.s3.amazonaws.com/backrow-home-screen.jpg" alt="Apple TV Home Screen"></p>

<p>In the current Apple TV interface, the home screen contains a grid of rectangular icons, similar to the home screen on iOS. Each icon corresponds to an <em>appliance</em>.</p>

<p>Why an appliance and not an application? An appliance is more limited in what it can do as compared to an application. On iPhone or iPad, applications range from social media clients and photo tools to games and musical instruments. Whereas on Apple TV, an appliance consists of a series of remote-friendly menus, lists, and grids, which ultimately lead to media playback of some form. When it comes to appliances, (audio / video) content is king.</p>

<p>When an appliance launches, it displays a list of <code>BRApplianceCategory</code> items. Each category has its own name, identifier, and preferred ordering. When a category is selected, the appliance calls <code>- controllerForIdentifier:args:</code>, which returns a <code>BRController</code> object.</p>

<p>An appliance also has an optional <code>topShelfController</code>, which is what displays at the top of the home screen when the app is highlighted.</p>

<p>Pushing and popping controllers is managed by a shared <code>BRControllerStack</code>. When a controller is selected with in a list, it is pushed onto the stack. When the user presses the Menu button, the stack is popped.</p>

<p><img src="http://nshipster.s3.amazonaws.com/backrow-youtube.jpg" alt="Apple TV YouTube"></p>

<p>A typical controller consists of a menu list on the right, with some kind of complimentary view on the left.</p>

<p>On top-level controllers, this sometimes takes the form of a <code>BRMarqueeStack</code>, which animates a Cover-Flow-style sequence of preview images for each of the controllers.</p>

<p>For controllers listing media that can be played, the complimentary view usually shows a preview image, along with meta data in a <code>BRMetadataControl</code>, such as runtime, date created, and other relevant information.</p>

<p><img src="http://nshipster.s3.amazonaws.com/backrow-movie.jpg" alt="Apple TV Movie"></p>

<p>iTunes store controllers also use a horizontally-stacked layout, with media information at the top, with related titles listed below.</p>

<h2 id="points-of-interest">Points of Interest</h2>

<p>Diving into the class dump of the Apple TV frameworks reveals a treasure trove of interesting tidbits. With only undocumented header files to go by, there&rsquo;s still a lot of mystery to what all&rsquo;s in these private frameworks, or how they fit together. However a thoughtful analysis of class and method names offers some workable clues into their inter-workings.</p>

<p>Here are some of the more interesting parts of the Back Row framework headers (again, all of this is complete speculation):</p>

<ul>
<li><a href="http://appletv.ericiii.net/5.2/protocol_b_r_image_proxy-p.php"><code>BRURLImageProxy</code></a>: A protocol that encapsulates the process of loading and displaying images at various dimensions.</li>
<li><a href="http://appletv.ericiii.net/5.2/interface_b_r_keyboard.php"><code>BRKeyboard</code></a>: It&rsquo;s always fascinating to see how Apple architects controls. Keyboards populate and manage interactions with the grid view of character and action keys, and are divided into classes for Roman and Japanese scripts.</li>
<li><a href="http://appletv.ericiii.net/5.2/interface_b_r_state_machine.php"><code>BRStateMachine</code></a>: No other Apple frameworks expose a class for state machines. <a href="http://appletv.ericiii.net/5.2/interface_l_t_a_v_lease_agent.php"><code>LATVLeaseAgent</code></a> is a subclass in the <code>AppleTV</code> framework that appears to negotiate the terms of iTunes movie rentals.</li>
<li><a href="http://appletv.ericiii.net/5.2/interface_b_r_mapping_dictionary.php"><code>BRMappingDictionary</code></a>: A new and useful-looking collection class that functions as an <code>NSMutableDictionary</code>, but also allows for an <code>NSValueTransformer</code> to be set for each key (<code>-transformedValueForKey:forObject:</code> in addition to <code>-valueForKey:</code>)</li>
<li><a href="http://appletv.ericiii.net/5.2/interface_b_r_merchant.php"><code>BRMerchant</code></a>: What you might expect in terms of a class representing a store client, with some <a href="http://appletv.ericiii.net/5.2/interface_b_r_merchant.php#pub-static-methods">interesting class methods</a>. <code>itms</code> is in reference to the iTunes Music Store, but what&rsquo;s <code>sedona</code> and <code>flagstaff</code>? They&rsquo;re probably codewords for streaming services that fall under the umbrella of the iTunes store.</li>
<li><a href="http://appletv.ericiii.net/5.2/protocol_b_r_control_factory-p.php"><code>&lt;BRControlFactory&gt;</code></a> <a href="http://appletv.ericiii.net/5.2/protocol_b_r_metadata_populator-p.php"><code>&lt;BRMetadataPopulator&gt;</code></a> &amp; <a href="http://appletv.ericiii.net/5.2/interface_b_r_control_mediator.php"><code>BRControlMediator</code></a>: Factories, Populators, and Mediators are not commonly seen design patterns in Apple frameworks, although they are described in the <a href="https://developer.apple.com/library/mac/#documentation/cocoa/conceptual/CocoaFundamentals/CocoaDesignPatterns/CocoaDesignPatterns.html">Cocoa Fundamentals Guide</a>.</li>
</ul>

<h2 id="building-your-own-apple-tv-app">Building Your Own Apple TV App</h2>

<p>In the immortal words of Jeff Goldblum: <a href="http://www.youtube.com/watch?v=SkWeMvrNiOM">&ldquo;Life finds a way&rdquo;</a>.</p>

<p>Undeterred by the litigious shadow of Apple Inc., nor the undocumented wilds of a private API, a cadre of jail-breaking homesteaders have cracked the nut on Apple TV development with promising results.</p>

<p>One of the most polished among them is <a href="https://github.com/alloy/UitzendingGemist-ATV2">UitzendingGemist</a> led by none other than <a href="https://github.com/alloy">Eloy Durán</a> of <a href="https://github.com/CocoaPods">CocoaPods</a> fame, along with <a href="https://github.com/lechium">Kevin Bradley</a> and <a href="https://github.com/mgile">Michael Gile</a>.</p>

<p>As you can see from <a href="http://cl.ly/2p2V0W3W0n3m">this video of an early version</a>, you can run your very own applications on a jail-broken Apple TV (OS 5.0.1 or compatible). The code is relatively straightforward, fetching a catalog of media files from the Dutch public broadcasting site <a href="http://www.uitzendinggemist.nl">UitzendingGemist.nl</a>, and playing them on demand.</p>

<hr>

<p>It&rsquo;s hard to say what it will take for Apple to open up the Apple TV ecosystem. Is it a matter of getting the APIs documented and ready for public use? Is there a process underway to refactor Back Row into UIKit? Or is everything pretty much ready, and it&rsquo;s just a matter of other business pieces falling into place?</p>

<p>Only time will tell.</p>

<p>In the meantime, you can get a head-start on what will almost certainly be a gold-rush on the scale of the first generation of iPhone apps.</p>

  </div>

  <footer role="complementary">
    
    <section id="revisions">
      <small>NSMutableHipster</small>

      <p>
      Questions? Corrections?  <a href="https://github.com/NSHipster/articles/issues">Issues</a> and <a href="https://github.com/NSHipster/articles/blob/master/2013-03-04-backrow.md">pull requests</a> are always welcome — NSHipster is made better by readers like you.
      </p>
      
      <p>
      
            
      
      Find status information for all articles on the <a href="/status/">status page</a>.
      </p>
      
      <dl>
      
      </dl>
    </section>
    

    <section id="follow">
      <small>Follow NSHipster</small>

      <ul>
        <li class="twitter">
          <a href="https://twitter.com/intent/user?screen_name=NSHipster" title="Follow NSHipster on Twitter"><i class="icon-twitter" aria-hidden="true"></i></a>
        </li>
        <li class="facebook">
          <a href="https://www.facebook.com/NSHipster" title="Like NSHipster on Facebook"><i class="icon-facebook" aria-hidden="true"></i></a>
        </li>
        <li class="google-plus">
          <a href="https://plus.google.com/+NSHipster" title="Follow NSHipster on G+"><i class="icon-googleplus" aria-hidden="true"></i></a>
        </li>
        <li class="rss">
          <a href="/feed.xml" title="Subscribe to the NSHipster RSS Feed"><i class="icon-feed" aria-hidden="true"></i></a>
        </li>
      </ul>

      <form action="https://tinyletter.com/NSHipster" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/NSHipster', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <label for="tlemail" hidden style="display:none;">Enter Your Email Address</label>
        <input type="email" name="email" id="tlemail" placeholder="Your Email Address"/>
        <input type="hidden" name="embed" value="1"/>
        <input type="submit" value="Join the Newsletter"/>
      </form>
    </section>

    <section id="attribution">
      
  <div class="contributor" itemprop="author" itemscope itemtype="http://data-vocabulary.org/Person">
    <small>Written by</small>

    <img class="avatar" alt="Mattt Thompson" itemprop="image" src="http://nshipster.s3.amazonaws.com/mattt-thompson.jpg" draggable="false"/>
    <div class="details">
      <span itemprop="name"><a href="/authors/mattt-thompson/">Mattt Thompson</a></span>

      <p><a href="https://github.com/mattt">Mattt Thompson</a> (<a href="https://twitter.com/mattt">@mattt</a>) is a writer and developer from the Rustbelt.</p>


      
        <a href="https://plus.google.com/106751358503565042647?rel=author" rel="author"></a>
      
    </div>
  </div>


    </section>

    

    

    <section>
      <div id="continue">
        <small>Next Article</small>
        
        

          <article>
            <h1 class="title">
              <a href="/uiappearance/" title="UIAppearance" rel="next">UIAppearance</a>
            </h1>

            <p>UIAppearance allows the appearance of views and controls to be consistently defined across the entire application.</p>

          </article>
      </div>

      
      
        
        
      

      <div id="related">
        <small>Related Articles</small>

        <ul>
          
          
          
            <li>
              <a href="/apple-pay/" title="Pay">Pay</a>
            </li>
            
          
          
            <li>
              <a href="/icloud/" title="iCloud">iCloud</a>
            </li>
            
          
          
            <li>
              <a href="/configuration-profiles/" title="Configuration Profiles">Configuration Profiles</a>
            </li>
            
          
          
            <li>
              <a href="/changing-of-the-guard/" title="Changing of the Guard">Changing of the Guard</a>
            </li>
            
          
        </ul>
      </div>
    </section>
  </footer>
</article>

    </div>

    <footer role="contentinfo">
      <section class="credits colophon">
        <p>
          Questions? Corrections? <a href="https://twitter.com/NSHipster">@NSHipster</a> or <a href="https://github.com/NSHipster/articles">on GitHub</a>.
        </p>
        <p>
          <i aria-hidden="true" class="icon-cc"></i>
          <i aria-hidden="true" class="icon-cc-by"></i>
          <i aria-hidden="true" class="icon-cc-nc"></i>
          NSHipster.com is released under a <a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license">Creative Commons BY-NC License</a>.
        </p>
        <p><abbr title="International Standard Serial Number">ISSN</abbr> 2373-9800</p>
        <p lang="zh-Hans"><a href="http://nshipster.cn" hreflang="zh-Hans" title="Articles also available in Chinese">文章也可在中文版阅读</a>。</p>
        <a href="https://plus.google.com/105091289906267717942" rel="publisher"></a>
      </section>
    </footer>
  </div>

  <script>
    if (window.navigator && window.navigator.loadPurpose === "preview") {
      window.location.href = "http://nshipster.com/topsites_preview.html";
    }
  </script>

  <script async>
    var Swiftype = window.Swiftype || {};
    (function() {
      Swiftype.key = 'Q5jNBiR8qVs5xE5dNect';
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.async = true;
      script.src = "//swiftype.com/embed.js";
      var entry = document.getElementsByTagName('script')[0];
      document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
    }());
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49868484-1', 'nshipster.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
