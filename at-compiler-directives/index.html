<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  
    <title>@ - NSHipster</title>
    <meta name="description" content="If we were to go code-watching for Objective-C, what would we look for? Square brackets, ridiculously-long method names, and `@`'s. "at" sign compiler directives are as central to understanding Objective-C's gestalt as its ancestry and underlying mechanisms. It's the sugary glue that allows Objective-C to be such a powerful, expressive language, and yet still compile all the way down to C."/>
    <link rel="canonical" href="http://nshipster.com/at-compiler-directives/"/>
  
  
  
  
  <meta name="author" content="Mattt Thompson"/>
  
  <meta name="revisit-after" content="7 days"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"/>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://nshipster.com/feed.xml"/>
  <link rel="stylesheet" type="text/css" href="http://nshipster.com/css/screen.css"/>
  <link rel="apple-touch-icon" href="/touch-icon-iphone.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="/touch-icon-ipad.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="/touch-icon-iphone-retina.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="/touch-icon-ipad-retina.png"/>
  <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico"/>
  <link rel="mask-icon" sizes="any" href="/website_icon.svg" color="black"/>
  <link rel="author" type="text/plain" href="http://nshipster.com/humans.txt"/>

  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@NSHipster"/>
  
  <meta name="twitter:creator" content="@mattt"/>
  
  
    <meta name="twitter:title" content="@"/>
    <meta name="twitter:description" content="If we were to go code-watching for Objective-C, what would we look for? Square brackets, ridiculously-long method names, and `@`&#39;s. &quot;at&quot; sign compiler directives are as central to understanding Objective-C&#39;s gestalt as its ancestry and underlying mechanisms. It&#39;s the sugary glue that allows Objective-C to be such a powerful, expressive language, and yet still compile all the way down to C."/>
  
  <meta property="twitter:account_id" content="629523445"/>

  <meta property="og:site_name" content="NSHipster"/>
  <meta property="og:image" content="http://nshipster.com/touch-icon-ipad-retina.png"/>
  
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="@"/>
    <meta property="og:url" content="http://nshipster.com/at-compiler-directives/"/>
    <meta property="og:description" content="If we were to go code-watching for Objective-C, what would we look for? Square brackets, ridiculously-long method names, and `@`&#39;s. &quot;at&quot; sign compiler directives are as central to understanding Objective-C&#39;s gestalt as its ancestry and underlying mechanisms. It&#39;s the sugary glue that allows Objective-C to be such a powerful, expressive language, and yet still compile all the way down to C."/>
    <meta property="article:published_time" content="2012-10-08T00:00:00-07:00"/>
    <meta property="article:modified_time" content="2015-12-09T21:06:40-08:00"/>
    <meta property="article:tag" content="objective-c"/>
    <meta property="article:publisher" content="https://www.facebook.com/NSHipster">
  

  
    <meta property="st:title" content="@"/>
    <meta property="st:type" content="article"/>
  
  
  <meta property="nshipster:hide-single-lang" content="swift,objective-c"/>
</head>

<body itemscope itemtype="http://schema.org/WebPage">

  <script src="http://nshipster.com/js/zepto.min.js"></script>
  <script src="http://nshipster.com/js/application.js"></script>

  <div role="container">
    <header role="banner">
      <h1 id="logo">
        <a href="/">
          <svg id="ns" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
<g>
  <path fill="#F58020" d="M0.6,1h13.7L27,24.4h0.1V1h12.7v43.6H26.8L13.4,20.8h-0.1v23.8H0.6V1z"/>
  <path fill="#F58020" d="M51.4,30c0,1.1,0.2,2.1,0.5,2.9c1,2.6,3.9,3.2,6.4,3.2c2.2,0,5.6-0.7,5.6-4c0-2.3-1.9-2.9-9.4-5
    c-6.9-2-14.8-3.8-14.8-12.6C39.7,4.3,48.3,0,57.3,0c9.5,0,17.8,3.6,18.2,14.2H62.8c0.2-1.6-0.5-2.7-1.6-3.5
    c-1.1-0.8-2.6-1.1-4-1.1c-1.8,0-4.8,0.5-4.8,2.9c0.2,3.1,6.5,3.8,12.6,5.5c6.2,1.7,12.3,4.6,12.3,12.6c0,11.4-10.4,15-20.1,15
    c-4.9,0-19-1.8-19.2-15.7H51.4z"/>
</g>
</svg>

          <svg id="mustache" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
  <g transform="translate(0,-952.36217)" opacity="0.95">
    <path id="path2987" fill="#010101" d="M28.2,971.4c-10,0.5-19.1,13.3-28.2,2.1c0,15.1,23.7,30.5,39.8,16.3
      c16,14.1,39.8-1.3,39.8-16.3c-12.5,15.4-25-14.4-39.8,4.5C35.8,972.7,31.9,971.2,28.2,971.4z"/>
  </g>
</svg>

        </a>

        <span hidden style="display:none;">NSHipster</span>
      </h1>

      <form role="search">
        <input type="text" id="st-search-input" class="st-search-input" />
      </form>

      
    </header>

    <div id="main" role="main" itemprop="mainContentOfPage">
      

<article role="article" itemscope itemtype="http://schema.org/Article">
  <header role="heading">
    <h1 class="title" itemprop="name">
      <a href="/at-compiler-directives/">@</a>
    </h1>

    <h2>
    
      Written by <a class="author" href="/authors/mattt-thompson/">Mattt Thompson</a> —
    
    <time datetime="2012-10-08T00:00:00-07:00" itemprop="datePublished">October 8<sup>th</sup>, 2012</time>
    
    </h2>

  </header>

  <div class="content" itemprop="articleBody" data-swiftype-index="true">
    <p>Birdwatchers refer to it as (and I swear I&rsquo;m not making this up) <a href="http://en.wikipedia.org/wiki/Jizz_%28birding%29">&ldquo;Jizz&rdquo;</a>: those indefinable characteristics unique to a particular kind of thing.</p>

<p>This term can be appropriated to describe how seasoned individuals might distinguish <a href="http://www.rust-lang.org">Rust</a> from <a href="http://golang.org">Go</a>, or <a href="http://www.ruby-lang.org">Ruby</a> from <a href="http://elixir-lang.org">Elixir</a> at a glance.</p>

<p>Some just stick out like sore thumbs:</p>

<p>Perl, with all of its short variable names with special characters, reads like <a href="http://imgur.com/WyG2D">Q*bert swearing</a>.</p>

<p>Lisp, whose profusion of parentheses is best captured by <a href="http://discuss.fogcreek.com/joelonsoftware3/default.asp?cmd=show&amp;ixPost=94232&amp;ixReplies=38">that old joke</a> about the Russians in the 1980&rsquo;s proving that they had stolen the source code of some SDI missile interceptor code by showing the last page:</p>
<div class="highlight"><pre><code class="language-lisp" data-lang="lisp">                <span class="p">)))</span>
              <span class="p">)</span> <span class="p">)</span>
            <span class="p">)))</span> <span class="p">)</span> <span class="p">))</span>
           <span class="p">)))))</span>
          <span class="p">)))</span>
        <span class="p">))</span>
      <span class="p">))))</span> <span class="p">))</span>
    <span class="p">))))</span> <span class="p">))</span>
  <span class="p">)))</span>
<span class="p">)</span>
</code></pre></div>
<p>So if we were to go code-watching for the elusive Objective-C species, what would we look for? That&rsquo;s right:</p>

<ul>
<li>Square brackets</li>
<li>Ridiculously-long method names</li>
<li><code>@</code>&rsquo;s</li>
</ul>

<p><code>@</code>, or &ldquo;at&rdquo; sign compiler directives, are as central to understanding Objective-C&rsquo;s gestalt as its ancestry and underlying mechanisms. It&rsquo;s the sugary glue that allows Objective-C to be such a powerful, expressive language, and yet still compile all the way down to C.</p>

<p>Its uses are varied and disparate, to the point that the only accurate way to describe what <code>@</code> means by itself is &ldquo;shorthand for something to do with Objective-C&rdquo;. They cover a broad range in usefulness and obscurity, from staples like <code>@interface</code> and <code>@implementation</code> to ones you could go your whole career without running into, like <code>@defs</code> and <code>@compatibility_alias</code>.</p>

<p>But to anyone aspiring to be an NSHipster, intimate familiarity with <code>@</code> directives is tantamount to a music lover&rsquo;s ability to enumerate the entire Beatles catalog in chronological order (and most importantly, having unreasonably strong opinions about each of them).</p>

<h2 id="interface-&amp;-implementation">Interface &amp; Implementation</h2>

<p><code>@interface</code> and <code>@implementation</code> are the first things you learn about when you start Objective-C:</p>

<ul>
<li><code>@interface</code>&hellip;<code>@end</code></li>
<li><code>@implementation</code>&hellip;<code>@end</code></li>
</ul>

<p>What you don&rsquo;t learn about until later on, are categories and class extensions.</p>

<p>Categories allow you to extend the behavior of existing classes by adding new class or instance methods. As a convention, categories are defined in their own <code>.{h,m}</code> files, like so:</p>

<h4 id="myobject+categoryname.h">MyObject+CategoryName.h</h4>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="k">@interface</span> <span class="nc">MyObject</span> <span class="nl">(CategoryName)</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">foo</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nl">barWithBaz</span><span class="p">:(</span><span class="bp">NSInteger</span><span class="p">)</span><span class="n">baz</span><span class="p">;</span>
<span class="k">@end</span>
</code></pre></div>
<h4 id="myobject+categoryname.m">MyObject+CategoryName.m</h4>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="k">@implementation</span> <span class="nc">MyObject</span> <span class="nl">(CategoryName)</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">foo</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>

  <span class="o">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nl">barWithBaz</span><span class="p">:(</span><span class="bp">NSInteger</span><span class="p">)</span><span class="n">baz</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
  <span class="p">}</span>
<span class="k">@end</span>
</code></pre></div>
<p>Categories are particularly useful for convenience methods on standard framework classes (just don&rsquo;t go overboard with your utility functions).</p>

<blockquote>
<p>Pro Tip: Rather than littering your code with random, arbitrary color values, create an <code>NSColor</code> / <code>UIColor</code> color palette category that defines class methods like <code>+appNameDarkGrayColor</code>. You can then add a semantic layer on top of that by creating method aliases like <code>+appNameTextColor</code>, which returns <code>+appNameDarkGrayColor</code>.</p>
</blockquote>

<p>Extensions look like categories, but omit the category name. These are typically declared before an <code>@implementation</code> to specify a private interface, and even override properties declared in the interface:</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="k">@interface</span> <span class="nc">MyObject</span> <span class="p">()</span>
<span class="k">@property</span> <span class="p">(</span><span class="k">readwrite</span><span class="p">,</span> <span class="k">nonatomic</span><span class="p">,</span> <span class="k">strong</span><span class="p">)</span> <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">doSomething</span><span class="p">;</span>
<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">MyObject</span>
<span class="k">@synthesize</span> <span class="n">name</span> <span class="o">=</span> <span class="n">_name</span><span class="p">;</span>

<span class="c1">// ...</span>

<span class="k">@end</span>
</code></pre></div>
<h3 id="properties">Properties</h3>

<p>Property directives are likewise concepts learned early on:</p>

<ul>
<li><code>@property</code></li>
<li><code>@synthesize</code></li>
<li><code>@dynamic</code></li>
</ul>

<p>One interesting note with properties is that as of Xcode 4.4, it is no longer necessary to explicitly synthesize properties. Properties declared in an <code>@interface</code> are automatically synthesized (with leading underscore ivar name, i.e. <code>@synthesize propertyName = _propertyName</code>) in the implementation.</p>

<h3 id="forward-class-declarations">Forward Class Declarations</h3>

<p>Occasionally, <code>@interface</code> declarations will reference an external class in a property or as a parameter type. Rather than adding <code>#import</code> statements for each class, it&rsquo;s good practice to use forward class declarations in the header, and import them in the implementation.</p>

<ul>
<li><code>@class</code></li>
</ul>

<p>Shorter compile times, less chance of cyclical references; you should definitely get in the habit of doing this if you aren&rsquo;t already.</p>

<h3 id="instance-variable-visibility">Instance Variable Visibility</h3>

<p>It&rsquo;s a matter of general convention that classes provide state and mutating interfaces through properties and methods, rather than directly exposing ivars.</p>

<p>Although ARC makes working with ivars much safer by taking care of memory management, the aforementioned automatic property synthesis removes the one place where ivars would otherwise be declared.</p>

<p>Nonetheless, in cases where ivars <em>are</em> directly manipulated, there are the following visibility directives:</p>

<ul>
<li><code>@public</code>: instance variable can be read and written to directly, using the notation <code>person-&gt;age = 32&quot;</code></li>
<li><code>@package</code>: instance variable is public, except outside of the framework in which it is specified (64-bit architectures only)</li>
<li><code>@protected</code>: instance variable is only accessible to its class and derived classes</li>
<li><code>@private</code>: instance variable is only accessible to its class</li>
</ul>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="k">@interface</span> <span class="nc">Person</span> : <span class="bp">NSObject</span> <span class="p">{</span>
  <span class="k">@public</span>
  <span class="bp">NSString</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">age</span><span class="p">;</span>

  <span class="k">@private</span>
  <span class="kt">int</span> <span class="n">salary</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="protocols">Protocols</h2>

<p>There&rsquo;s a distinct point early in an Objective-C programmer&rsquo;s evolution, when she realizes that she can define her own protocols.</p>

<p>The beauty of protocols is that they allow programmers to design contracts that can be adopted outside of a class hierarchy. It&rsquo;s the egalitarian mantra at the heart of the American Dream: that it doesn&rsquo;t matter who you are, or where you come from: anyone can achieve anything if they work hard enough.</p>

<p>&hellip;or at least that&rsquo;s idea, right?</p>

<ul>
<li><code>@protocol</code>&hellip;<code>@end</code>: Defines a set of methods to be implemented by any class  conforming to the protocol, as if they were added to the interface of that class.</li>
</ul>

<p>Architectural stability and expressiveness without the burden of coupling&ndash;protocols are awesome.</p>

<h3 id="requirement-options">Requirement Options</h3>

<p>You can further tailor a protocol by specifying methods as required or optional. Optional methods are stubbed in the interface, so as to be auto-completed in Xcode, but do not generate a warning if the method is not implemented. Protocol methods are required by default.</p>

<p>The syntax for <code>@required</code> and <code>@optional</code> follows that of the visibility macros:</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="k">@protocol</span> <span class="nc">CustomControlDelegate</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">control</span><span class="p">:(</span><span class="n">CustomControl</span> <span class="o">*</span><span class="p">)</span><span class="n">control</span> <span class="nl">didSucceedWithResult</span><span class="p">:(</span><span class="kt">id</span><span class="p">)</span><span class="n">result</span><span class="p">;</span>
<span class="k">@optional</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">control</span><span class="p">:(</span><span class="n">CustomControl</span> <span class="o">*</span><span class="p">)</span><span class="n">control</span> <span class="nl">didFailWithError</span><span class="p">:(</span><span class="bp">NSError</span> <span class="o">*</span><span class="p">)</span><span class="n">error</span><span class="p">;</span>
<span class="k">@end</span>
</code></pre></div>
<h2 id="exception-handling">Exception Handling</h2>

<p>Objective-C communicates unexpected state primarily through <code>NSError</code>. Whereas other languages would use exception handling for this, Objective-C relegates exceptions to truly exceptional behavior, including programmer error.</p>

<p><code>@</code> directives are used for the traditional convention of <code>try/catch/finally</code> blocks:</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="k">@try</span><span class="p">{</span>
  <span class="c1">// attempt to execute the following statements</span>
  <span class="p">[</span><span class="nb">self</span> <span class="nl">getValue</span><span class="p">:</span><span class="o">&amp;</span><span class="n">value</span> <span class="nl">error</span><span class="p">:</span><span class="o">&amp;</span><span class="n">error</span><span class="p">];</span>

  <span class="c1">// if an exception is raised, or explicitly thrown...</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">@throw</span> <span class="n">exception</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span> <span class="k">@catch</span><span class="p">(</span><span class="bp">NSException</span> <span class="o">*</span><span class="n">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// ...handle the exception here</span>
<span class="p">}</span>  <span class="k">@finally</span> <span class="p">{</span>
  <span class="c1">// always execute this at the end of either the @try or @catch block</span>
  <span class="p">[</span><span class="nb">self</span> <span class="n">cleanup</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="literals">Literals</h2>

<p>Literals are shorthand notation for specifying fixed values. Literals are more
-or-less directly correlated with programmer happiness. By this measure, Objective-C has long been a language of programmer misery.</p>

<h3 id="object-literals">Object Literals</h3>

<p>Until recently, Objective-C only had literals for <code>NSString</code>. But with the release of the <a href="http://clang.llvm.org/docs/ObjectiveCLiterals.html">Apple LLVM 4.0 compiler</a>, literals for <code>NSNumber</code>, <code>NSArray</code> and <code>NSDictionary</code> were added, with much rejoicing.</p>

<ul>
<li><code>@&quot;&quot;</code>: Returns an <code>NSString</code> object initialized with the Unicode content inside the quotation marks.</li>
<li><code>@42</code>, <code>@3.14</code>, <code>@YES</code>, <code>@&#39;Z&#39;</code>: Returns an <code>NSNumber</code> object initialized with pertinent class constructor, such that <code>@42</code> → <code>[NSNumber numberWithInteger:42]</code>, or <code>@YES</code> → <code>[NSNumber numberWithBool:YES]</code>. Supports the use of suffixes to further specify type, like <code>@42U</code> → <code>[NSNumber numberWithUnsignedInt:42U]</code>.</li>
<li><code>@[]</code>: Returns an <code>NSArray</code> object initialized with the comma-delimited list of objects as its contents. It uses +arrayWithObjects:count: class constructor method, which is a more precise alternative to the more familiar <code>+arrayWithObjects:</code>. For example, <code>@[@&quot;A&quot;, @NO, @2.718]</code> → <code>id objects[] = {@&quot;A&quot;, @NO, @2.718}; [NSArray arrayWithObjects:objects count:3]</code>.</li>
<li><code>@{}</code>: Returns an <code>NSDictionary</code> object initialized with the specified key-value pairs as its contents, in the format: <code>@{@&quot;someKey&quot; : @&quot;theValue&quot;}</code>.</li>
<li><code>@()</code>: Dynamically evaluates the boxed expression and returns the appropriate object literal based on its value (i.e. <code>NSString</code> for <code>const char*</code>, <code>NSNumber</code> for <code>int</code>, etc.). This is also the designated way to use number literals with <code>enum</code> values.</li>
</ul>

<h3 id="objective-c-literals">Objective-C Literals</h3>

<p>Selectors and protocols can be passed as method parameters. <code>@selector()</code> and <code>@protocol()</code> serve as pseudo-literal directives that return a pointer to a particular selector (<code>SEL</code>) or protocol (<code>Protocol *</code>).</p>

<ul>
<li><code>@selector()</code>: Returns an <code>SEL</code> pointer to a selector with the specified name. Used in methods like <code>-performSelector:withObject:</code>.</li>
<li><code>@protocol()</code>: Returns a <code>Protocol *</code> pointer to the protocol with the specified name. Used in methods like <code>-conformsToProtocol:</code>.</li>
</ul>

<h3 id="c-literals">C Literals</h3>

<p>Literals can also work the other way around, transforming Objective-C objects into C values. These directives in particular allow us to peek underneath the Objective-C veil, to begin to understand what&rsquo;s really going on.</p>

<p>Did you know that all Objective-C classes and objects are just glorified <code>struct</code>s? Or that the entire identity of an object hinges on a single <code>isa</code> field in that <code>struct</code>?</p>

<p>For most of us, at least most of the time, coming into this knowledge is but an academic exercise. But for anyone venturing into low-level optimizations, this is simply the jumping-off point.</p>

<ul>
<li><code>@encode()</code>: Returns the <a href="http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html">type encoding</a> of a type. This type value can be used as the first argument encode in <code>NSCoder -encodeValueOfObjCType:at:</code>.</li>
<li><code>@defs()</code>: Returns the layout of an Objective-C class. For example, to declare a struct with the same fields as an <code>NSObject</code>, you would simply do:</li>
</ul>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="k">struct</span> <span class="p">{</span>
  <span class="p">@</span><span class="n">defs</span><span class="p">(</span><span class="bp">NSObject</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>Ed. As pointed out by readers <a href="http://twitter.com/secboffin">@secboffin</a> &amp; <a href="http://twitter.com/ameaijou">@ameaijou</a>, <code>@defs</code> is unavailable in the modern Objective-C runtime.</p>
</blockquote>

<h2 id="optimizations">Optimizations</h2>

<p>There are some <code>@</code> compiler directives specifically purposed for providing shortcuts for common optimizations.</p>

<ul>
<li><code>@autoreleasepool{}</code>: If your code contains a tight loop that creates lots of temporary objects, you can use the <code>@autoreleasepool</code> directive to optimize for these short-lived, locally-scoped objects by being more aggressive about how they&rsquo;re deallocated. <code>@autoreleasepool</code> replaces and improves upon the old <code>NSAutoreleasePool</code>, which is significantly slower, and unavailable with ARC.</li>
<li><code>@synchronized(){}</code>: This directive offers a convenient way to guarantee the safe execution of a particular block within a specified context (usually <code>self</code>). Locking in this way is expensive, however, so for classes aiming for a particular level of thread safety, a dedicated <code>NSLock</code> property or the use of low-level locking functions like <code>OSAtomicCompareAndSwap32(3)</code> are recommended.</li>
</ul>

<h2 id="compatibility">Compatibility</h2>

<p>In case all of the previous directives were old hat for you, there&rsquo;s a strong likelihood that you didn&rsquo;t know about this one:</p>

<ul>
<li><code>@compatibility_alias</code>: Allows existing classes to be aliased by a different name.</li>
</ul>

<p>For example <a href="https://github.com/steipete/PSTCollectionView">PSTCollectionView</a> uses <code>@compatibility_alias</code> to significantly improve the experience of using the backwards-compatible, drop-in replacement for <a href="http://nshipster.com/uicollectionview/">UICollectionView</a>:</p>
<div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="c1">// Allows code to just use UICollectionView as if it would be available on iOS SDK 5.</span>
<span class="c1">// http://developer.apple.    com/legacy/mac/library/#documentation/DeveloperTools/gcc-3.   3/gcc/compatibility_005falias.html</span>
<span class="cp">#if __IPHONE_OS_VERSION_MAX_ALLOWED &lt; 60000</span>
<span class="p">@</span><span class="n">compatibility_alias</span> <span class="bp">UICollectionViewController</span> <span class="n">PSTCollectionViewController</span><span class="p">;</span>
<span class="p">@</span><span class="n">compatibility_alias</span> <span class="bp">UICollectionView</span> <span class="n">PSTCollectionView</span><span class="p">;</span>
<span class="p">@</span><span class="n">compatibility_alias</span> <span class="bp">UICollectionReusableView</span> <span class="n">PSTCollectionReusableView</span><span class="p">;</span>
<span class="p">@</span><span class="n">compatibility_alias</span> <span class="bp">UICollectionViewCell</span> <span class="n">PSTCollectionViewCell</span><span class="p">;</span>
<span class="p">@</span><span class="n">compatibility_alias</span> <span class="bp">UICollectionViewLayout</span> <span class="n">PSTCollectionViewLayout</span><span class="p">;</span>
<span class="p">@</span><span class="n">compatibility_alias</span> <span class="bp">UICollectionViewFlowLayout</span> <span class="n">PSTCollectionViewFlowLayout</span><span class="p">;</span>
<span class="p">@</span><span class="n">compatibility_alias</span> <span class="bp">UICollectionViewLayoutAttributes</span>     <span class="n">PSTCollectionViewLayoutAttributes</span><span class="p">;</span>
<span class="k">@protocol</span> <span class="bp">UICollectionViewDataSource</span> <span class="o">&lt;</span><span class="n">PSTCollectionViewDataSource</span><span class="o">&gt;</span> <span class="k">@end</span>
<span class="k">@protocol</span> <span class="bp">UICollectionViewDelegate</span> <span class="o">&lt;</span><span class="n">PSTCollectionViewDelegate</span><span class="o">&gt;</span> <span class="k">@end</span>
<span class="cp">#endif</span>
</code></pre></div>
<p>Using this clever combination of macros, a developer can develop with <code>UICollectionView</code> by including <code>PSTCollectionView</code>&ndash;without worrying about the deployment target of the final project. As a drop-in replacement, the same code works more-or-less identically on iOS 6 as it does on iOS 4.3.</p>

<hr>

<p>So to review:</p>

<p><strong>Interfaces &amp; Implementation</strong></p>

<ul>
<li><code>@interface</code>&hellip;<code>@end</code></li>
<li><code>@implementation</code>&hellip;<code>@end</code></li>
<li><code>@class</code></li>
</ul>

<p><strong>Instance Variable Visibility</strong></p>

<ul>
<li><code>@public</code></li>
<li><code>@package</code></li>
<li><code>@protected</code></li>
<li><code>@private</code></li>
</ul>

<p><strong>Properties</strong></p>

<ul>
<li><code>@property</code></li>
<li><code>@synthesize</code></li>
<li><code>@dynamic</code></li>
</ul>

<p><strong>Protocols</strong></p>

<ul>
<li><code>@protocol</code></li>
<li><code>@required</code></li>
<li><code>@optional</code></li>
</ul>

<p><strong>Exception Handling</strong></p>

<ul>
<li><code>@try</code></li>
<li><code>@catch</code></li>
<li><code>@finally</code></li>
<li><code>@throw</code></li>
</ul>

<p><strong>Object Literals</strong></p>

<ul>
<li><code>@&quot;&quot;</code></li>
<li><code>@42</code>, <code>@3.14</code>, <code>@YES</code>, <code>@&#39;Z&#39;</code></li>
<li><code>@[]</code></li>
<li><code>@{}</code></li>
<li><code>@()</code></li>
</ul>

<p><strong>Objective-C Literals</strong></p>

<ul>
<li><code>@selector()</code></li>
<li><code>@protocol()</code></li>
</ul>

<p><strong>C Literals</strong></p>

<ul>
<li><code>@encode()</code></li>
<li><code>@defs()</code></li>
</ul>

<p><strong>Optimizations</strong></p>

<ul>
<li><code>@autoreleasepool{}</code></li>
<li><code>@synchronized{}</code></li>
</ul>

<p><strong>Compatibility</strong></p>

<ul>
<li><code>@compatibility_alias</code></li>
</ul>

<p>Thus concludes this exhaustive rundown of the many faces of <code>@</code>. It&rsquo;s a versatile, power-packed character, that embodies the underlying design and mechanisms of the language.</p>

<blockquote>
<p>This should be a complete list, but there&rsquo;s always a chance that some new or long-forgotten ones slipped between the cracks. If you know of any <code>@</code> directives that were left out, be sure to let <a href="https://twitter.com/nshipster">@NSHipster</a> know.</p>
</blockquote>

  </div>

  <footer role="complementary">
    
    <section id="revisions">
      <small>NSMutableHipster</small>

      <p>
      Questions? Corrections?  <a href="https://github.com/NSHipster/articles/issues">Issues</a> and <a href="https://github.com/NSHipster/articles/blob/master/2012-10-08-at-compiler-directives.md">pull requests</a> are always welcome — NSHipster is made better by readers like you.
      </p>
      
      <p>
      
            
      
      Find status information for all articles on the <a href="/status/">status page</a>.
      </p>
      
      <dl>
      
      </dl>
    </section>
    

    <section id="follow">
      <small>Follow NSHipster</small>

      <ul>
        <li class="twitter">
          <a href="https://twitter.com/intent/user?screen_name=NSHipster" title="Follow NSHipster on Twitter"><i class="icon-twitter" aria-hidden="true"></i></a>
        </li>
        <li class="facebook">
          <a href="https://www.facebook.com/NSHipster" title="Like NSHipster on Facebook"><i class="icon-facebook" aria-hidden="true"></i></a>
        </li>
        <li class="google-plus">
          <a href="https://plus.google.com/+NSHipster" title="Follow NSHipster on G+"><i class="icon-googleplus" aria-hidden="true"></i></a>
        </li>
        <li class="rss">
          <a href="/feed.xml" title="Subscribe to the NSHipster RSS Feed"><i class="icon-feed" aria-hidden="true"></i></a>
        </li>
      </ul>

      <form action="https://tinyletter.com/NSHipster" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/NSHipster', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <label for="tlemail" hidden style="display:none;">Enter Your Email Address</label>
        <input type="email" name="email" id="tlemail" placeholder="Your Email Address"/>
        <input type="hidden" name="embed" value="1"/>
        <input type="submit" value="Join the Newsletter"/>
      </form>
    </section>

    <section id="attribution">
      
  <div class="contributor" itemprop="author" itemscope itemtype="http://data-vocabulary.org/Person">
    <small>Written by</small>

    <img class="avatar" alt="Mattt Thompson" itemprop="image" src="http://nshipster.s3.amazonaws.com/mattt-thompson.jpg" draggable="false"/>
    <div class="details">
      <span itemprop="name"><a href="/authors/mattt-thompson/">Mattt Thompson</a></span>

      <p><a href="https://github.com/mattt">Mattt Thompson</a> (<a href="https://twitter.com/mattt">@mattt</a>) is a writer and developer from the Rustbelt.</p>


      
        <a href="https://plus.google.com/106751358503565042647?rel=author" rel="author"></a>
      
    </div>
  </div>


    </section>

    

    

    <section>
      <div id="continue">
        <small>Next Article</small>
        
        

          <article>
            <h1 class="title">
              <a href="/addressbookui/" title="AddressBookUI" rel="next">Address​Book​UI</a>
            </h1>

            <p>Address Book UI is an iOS framework for displaying, selecting, editing, and creating contacts in a user&rsquo;s Address Book. Similar to the Message UI framework, Address Book UI contains a number of controllers that can be presented modally, to provide common system functionality in a uniform interface.</p>

          </article>
      </div>

      
      
        
        
      

      <div id="related">
        <small>Related Articles</small>

        <ul>
          
          
          
            <li>
              <a href="/equality/" title="Equality">Equality</a>
            </li>
            
          
          
            <li>
              <a href="/bool/" title="BOOL / bool / Boolean / NSCFBoolean">BOOL / bool / Boolean / NSCFBoolean</a>
            </li>
            
          
          
            <li>
              <a href="/instancetype/" title="instancetype">instancetype</a>
            </li>
            
          
          
            <li>
              <a href="/clang-diagnostics/" title="Clang Diagnostics">Clang Diagnostics</a>
            </li>
            
          
        </ul>
      </div>
    </section>
  </footer>
</article>

    </div>

    <footer role="contentinfo">
      <section class="credits colophon">
        <p>
          Questions? Corrections? <a href="https://twitter.com/NSHipster">@NSHipster</a> or <a href="https://github.com/NSHipster/articles">on GitHub</a>.
        </p>
        <p>
          <i aria-hidden="true" class="icon-cc"></i>
          <i aria-hidden="true" class="icon-cc-by"></i>
          <i aria-hidden="true" class="icon-cc-nc"></i>
          NSHipster.com is released under a <a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license">Creative Commons BY-NC License</a>.
        </p>
        <p><abbr title="International Standard Serial Number">ISSN</abbr> 2373-9800</p>
        <p lang="zh-Hans"><a href="http://nshipster.cn" hreflang="zh-Hans" title="Articles also available in Chinese">文章也可在中文版阅读</a>。</p>
        <a href="https://plus.google.com/105091289906267717942" rel="publisher"></a>
      </section>
    </footer>
  </div>

  <script>
    if (window.navigator && window.navigator.loadPurpose === "preview") {
      window.location.href = "http://nshipster.com/topsites_preview.html";
    }
  </script>

  <script async>
    var Swiftype = window.Swiftype || {};
    (function() {
      Swiftype.key = 'Q5jNBiR8qVs5xE5dNect';
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.async = true;
      script.src = "//swiftype.com/embed.js";
      var entry = document.getElementsByTagName('script')[0];
      document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
    }());
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49868484-1', 'nshipster.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
