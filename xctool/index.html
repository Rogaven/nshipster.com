<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  
    <title>xctool - NSHipster</title>
    <meta name="description" content="Control the build system, and you control the destiny of the language, its ecosystem, and community."/>
    <link rel="canonical" href="http://nshipster.com/xctool/"/>
  
  
  
  
  <meta name="author" content="Mattt Thompson"/>
  
  <meta name="revisit-after" content="7 days"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"/>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://nshipster.com/feed.xml"/>
  <link rel="stylesheet" type="text/css" href="http://nshipster.com/css/screen.css"/>
  <link rel="apple-touch-icon" href="/touch-icon-iphone.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="/touch-icon-ipad.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="/touch-icon-iphone-retina.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="/touch-icon-ipad-retina.png"/>
  <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico"/>
  <link rel="mask-icon" sizes="any" href="/website_icon.svg" color="black"/>
  <link rel="author" type="text/plain" href="http://nshipster.com/humans.txt"/>

  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@NSHipster"/>
  
  <meta name="twitter:creator" content="@mattt"/>
  
  
    <meta name="twitter:title" content="xctool"/>
    <meta name="twitter:description" content="Control the build system, and you control the destiny of the language, its ecosystem, and community."/>
  
  <meta property="twitter:account_id" content="629523445"/>

  <meta property="og:site_name" content="NSHipster"/>
  <meta property="og:image" content="http://nshipster.com/touch-icon-ipad-retina.png"/>
  
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="xctool"/>
    <meta property="og:url" content="http://nshipster.com/xctool/"/>
    <meta property="og:description" content="Control the build system, and you control the destiny of the language, its ecosystem, and community."/>
    <meta property="article:published_time" content="2013-11-04T00:00:00-08:00"/>
    <meta property="article:modified_time" content="2015-12-09T21:06:40-08:00"/>
    <meta property="article:tag" content="open source"/>
    <meta property="article:publisher" content="https://www.facebook.com/NSHipster">
  

  
    <meta property="st:title" content="xctool"/>
    <meta property="st:type" content="article"/>
  
  
  <meta property="nshipster:hide-single-lang" content="swift,objective-c"/>
</head>

<body itemscope itemtype="http://schema.org/WebPage">

  <script src="http://nshipster.com/js/zepto.min.js"></script>
  <script src="http://nshipster.com/js/application.js"></script>

  <div role="container">
    <header role="banner">
      <h1 id="logo">
        <a href="/">
          <svg id="ns" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
<g>
  <path fill="#F58020" d="M0.6,1h13.7L27,24.4h0.1V1h12.7v43.6H26.8L13.4,20.8h-0.1v23.8H0.6V1z"/>
  <path fill="#F58020" d="M51.4,30c0,1.1,0.2,2.1,0.5,2.9c1,2.6,3.9,3.2,6.4,3.2c2.2,0,5.6-0.7,5.6-4c0-2.3-1.9-2.9-9.4-5
    c-6.9-2-14.8-3.8-14.8-12.6C39.7,4.3,48.3,0,57.3,0c9.5,0,17.8,3.6,18.2,14.2H62.8c0.2-1.6-0.5-2.7-1.6-3.5
    c-1.1-0.8-2.6-1.1-4-1.1c-1.8,0-4.8,0.5-4.8,2.9c0.2,3.1,6.5,3.8,12.6,5.5c6.2,1.7,12.3,4.6,12.3,12.6c0,11.4-10.4,15-20.1,15
    c-4.9,0-19-1.8-19.2-15.7H51.4z"/>
</g>
</svg>

          <svg id="mustache" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
  <g transform="translate(0,-952.36217)" opacity="0.95">
    <path id="path2987" fill="#010101" d="M28.2,971.4c-10,0.5-19.1,13.3-28.2,2.1c0,15.1,23.7,30.5,39.8,16.3
      c16,14.1,39.8-1.3,39.8-16.3c-12.5,15.4-25-14.4-39.8,4.5C35.8,972.7,31.9,971.2,28.2,971.4z"/>
  </g>
</svg>

        </a>

        <span hidden style="display:none;">NSHipster</span>
      </h1>

      <form role="search">
        <input type="text" id="st-search-input" class="st-search-input" />
      </form>

      
    </header>

    <div id="main" role="main" itemprop="mainContentOfPage">
      

<article role="article" itemscope itemtype="http://schema.org/Article">
  <header role="heading">
    <h1 class="title" itemprop="name">
      <a href="/xctool/">xctool</a>
    </h1>

    <h2>
    
      Written by <a class="author" href="/authors/mattt-thompson/">Mattt Thompson</a> —
    
    <time datetime="2013-11-04T00:00:00-08:00" itemprop="datePublished">November 4<sup>th</sup>, 2013</time>
    
    </h2>

  </header>

  <div class="content" itemprop="articleBody" data-swiftype-index="true">
    <blockquote>
<p>Control the build system, and you control the destiny of the language, its ecosystem, and community.</p>
</blockquote>

<p>Objective-C has changed so very much in such a very short timespan. In just a few short years, the language has gone from humdrum NeXT vestige to a <a href="http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html">position of commanding influence</a>. A significant portion of these prolific contributions from the open source community for Objective-C has been directly enabled and encouraged by increased ownership around tooling.</p>

<p><a href="http://cocoapods.org">CocoaPods</a>, in particular, exemplifies the compounding influences of technology and community. Now two years into the project, there are over 2,700 community-submitted libraries and frameworks that can be integrated into your own project with a simple <code>pod install</code> command.</p>

<p>Dependency management is just one of the many aspects of iOS and OS X development that have been dramatically improved by the community. Other examples include <a href="http://nomad-cli.com">provisioning and distribution automation</a>, <a href="http://www.quickradar.com">bug reporting</a>, and <a href="http://cocoadocs.org">documentation</a>.</p>

<p>But this week, our focus is on a tool that redefines the actual build process itself, to serve as the foundation for a new generation of tooling and integration: <code>xctool</code>.</p>

<hr>

<p><a href="https://github.com/facebook/xctool"><code>xctool</code></a> is an open source project by <a href="https://github.com/fpotter">Fred Potter</a> that came from his work on build system automation at <a href="https://github.com/facebook">Facebook</a>. It is a drop-in replacement for <a href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html"><code>xcodebuild</code></a>, the utility underlying Xcode.app itself.</p>

<p>When you click &ldquo;Build &amp; Run&rdquo; in Xcode, all of the project, build target, and scheme settings are passed to <code>xcodebuild</code>, which invokes build commands to create and then launch an <code>.ipa</code> executable on the device or simulator.</p>

<p>Don&rsquo;t get me wrong—it&rsquo;s a <em>blessing</em> that things work in this way, instead of, say, Xcode wrapping its own private build system in a way that was inaccessible from outside the application. But anyone who has ever attempted to interact with <code>xcodebuild</code> from Terminal.app can attest to its&hellip; less-than-streamlined experience.</p>

<p>Rather than belabor the point by enumerating all of the flaws in this decade-old utility, let&rsquo;s cut to the hero of the story—XCtool—to show how it improves on the status quo:</p>

<h2 id="aesthetics-&amp;-style-points">Aesthetics &amp; Style Points</h2>

<p>The first you&rsquo;ll notice about <code>xctool</code> is its gorgeous, colorized output.</p>

<p><img src="http://nshipster.s3.amazonaws.com/xctool-example.gif" alt="xctool in Action"></p>

<p>As consumers of Apple hardware and software ourselves, the role of design cannot be under-stated. In this respect, <code>xctool</code> absolutely nails it. Every step of the build process is neatly organized and reported in a way that is understandable and visually appealing, with ANSI colorization and a splash of Unicode ornamentation.</p>

<p>But xctool&rsquo;s beauty is not just skin-deep: build progress can also be reported in formats that can be read by other tools:</p>

<p>xctool -reporter plain:output.txt build</p>

<h4 id="reporters">Reporters</h4>

<ul>
<li><code>pretty</code>: (<em>default</em>) a text-based reporter that uses ANSI colors and unicode symbols for pretty output.</li>
<li><code>plain</code>: like <code>pretty</code>, but with with no colors or Unicode.</li>
<li><code>phabricator</code>: outputs a JSON array of build/test results which can be fed into the <a href="http://phabricator.org">Phabricator</a> code-review tool.</li>
<li><code>junit</code>: produces a <a href="http://junit.org">JUnit</a>/<a href="http://xunit.codeplex.com">xUnit</a> compatible XML file with test results.</li>
<li><code>json-stream</code>: a stream of build/test events as JSON dictionaries, one per line (example output).</li>
<li><code>json-compilation-database</code>: outputs a <a href="http://clang.llvm.org/docs/JSONCompilationDatabase.html">JSON Compilation Database</a> of build events which can be used by <a href="http://clang.llvm.org/docs/LibTooling.html">Clang Tooling</a> based tools, e.g. <a href="http://oclint.org">OCLint</a>.</li>
</ul>

<h2 id="build-system-integration">Build System Integration</h2>

<p>Another major improvement over <code>xcodebuild</code> is that <code>xctool</code> will run application tests in your project in the same way Xcode.app does (<code>xcodebuild</code> can&rsquo;t discern which targets in your scheme are test targets, let alone run them in the simulator)</p>

<p>For this reason alone, xctool has great implications for the emerging discipline of continuous integration testing within the Objective-C community.</p>

<h3 id="travis-ci">Travis CI</h3>

<p><a href="https://travis-ci.org">Travis CI</a> offers free continuous integration services for open source projects (as well as a <a href="http://travis-ci.com">paid plan for commercial software</a>), and is rather unique for supporting Objective-C. It can be configured to run your test suite on every <code>git push</code> to GitHub (or your favorite SCM host), and will notify you if your most recent change-set breaks the build.</p>

<p>To add Travis CI to your own Objective-C project, <a href="http://about.travis-ci.org/docs/user/getting-started/">create an account and webservice hook</a>, and create a <code>.travis.yml</code> file in your repository:</p>

<h4 id=".travis.yml">.travis.yml</h4>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">language</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">objective-c</span>
<span class="l-Scalar-Plain">before_install</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">brew update</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">brew install xctool</span>
<span class="l-Scalar-Plain">script</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">xctool -workspace MyApp.xcworkspace -scheme MyApp test</span>
</code></pre></div>
<h3 id="oclint">OCLint</h3>

<p><a href="http://oclint.org">OCLint</a> is a static code analyzer that inspects Objective-C (as well as C and C++) code for common sources of problems, like empty <code>if</code>/<code>else</code>/<code>try</code>/<code>catch</code>/<code>finally</code> statements,unused local variables and parameters, complicated code with high NCSS or cyclomatic / NPath complexity, redundant code, code smells, and other bad practices.</p>

<p>Remember <code>xctool</code>&rsquo;s <code>json-compilation-database</code> reporter option? Well, that output <a href="http://docs.oclint.org/en/dev/guide/xctool.html">can be read directly</a> by OCLint to do its magical static analysis.</p>

<p>At the time of writing, there is still a ways to go before this becomes widely adopted, but my hope is that, now that the cat is out of the bag, some enterprising individuals might work together to make an insanely great experience around this promising tool.</p>

<hr>

<p>Just as with the growth population within cities, infrastructure makes all of difference. One way or another, whether by local <a href="http://en.wikipedia.org/wiki/Commissioners&#x27;_Plan_of_1811">government mandate</a>, <a href="http://en.wikipedia.org/wiki/Kowloon_Walled_City">emergent self-organization</a>, or somewhere in-between, environments are changed to accommodate this growth.</p>

<p>Objective-C has and continues to undergo rapid growth based on the popularity of iOS. It is up to the community, in working with (and sometimes against) Apple to create infrastructure necessary to integrate so many new developers. How successful we are in this respect determines how we understand and communicate our roles and responsibilities as professional developers.</p>

<p>Are we clumsy amateurs, or do we take an active role in refining our craft?</p>

<p>xctool, like so many other tools from the community, provide hope and, indeed, inspiration about the future of the language and its ecosystem. Let&rsquo;s continue to build upon these tools, to create a developer experience that we can be proud of.</p>

  </div>

  <footer role="complementary">
    
    <section id="revisions">
      <small>NSMutableHipster</small>

      <p>
      Questions? Corrections?  <a href="https://github.com/NSHipster/articles/issues">Issues</a> and <a href="https://github.com/NSHipster/articles/blob/master/2013-11-04-xctool.md">pull requests</a> are always welcome — NSHipster is made better by readers like you.
      </p>
      
      <p>
      
            
      
      Find status information for all articles on the <a href="/status/">status page</a>.
      </p>
      
      <dl>
      
      </dl>
    </section>
    

    <section id="follow">
      <small>Follow NSHipster</small>

      <ul>
        <li class="twitter">
          <a href="https://twitter.com/intent/user?screen_name=NSHipster" title="Follow NSHipster on Twitter"><i class="icon-twitter" aria-hidden="true"></i></a>
        </li>
        <li class="facebook">
          <a href="https://www.facebook.com/NSHipster" title="Like NSHipster on Facebook"><i class="icon-facebook" aria-hidden="true"></i></a>
        </li>
        <li class="google-plus">
          <a href="https://plus.google.com/+NSHipster" title="Follow NSHipster on G+"><i class="icon-googleplus" aria-hidden="true"></i></a>
        </li>
        <li class="rss">
          <a href="/feed.xml" title="Subscribe to the NSHipster RSS Feed"><i class="icon-feed" aria-hidden="true"></i></a>
        </li>
      </ul>

      <form action="https://tinyletter.com/NSHipster" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/NSHipster', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <label for="tlemail" hidden style="display:none;">Enter Your Email Address</label>
        <input type="email" name="email" id="tlemail" placeholder="Your Email Address"/>
        <input type="hidden" name="embed" value="1"/>
        <input type="submit" value="Join the Newsletter"/>
      </form>
    </section>

    <section id="attribution">
      
  <div class="contributor" itemprop="author" itemscope itemtype="http://data-vocabulary.org/Person">
    <small>Written by</small>

    <img class="avatar" alt="Mattt Thompson" itemprop="image" src="http://nshipster.s3.amazonaws.com/mattt-thompson.jpg" draggable="false"/>
    <div class="details">
      <span itemprop="name"><a href="/authors/mattt-thompson/">Mattt Thompson</a></span>

      <p><a href="https://github.com/mattt">Mattt Thompson</a> (<a href="https://twitter.com/mattt">@mattt</a>) is a writer and developer from the Rustbelt.</p>


      
        <a href="https://plus.google.com/106751358503565042647?rel=author" rel="author"></a>
      
    </div>
  </div>


    </section>

    

    

    <section>
      <div id="continue">
        <small>Next Article</small>
        
        

          <article>
            <h1 class="title">
              <a href="/nsformatter/" title="NSFormatter" rel="next">NSFormatter</a>
            </h1>

            <p>Conversion is the tireless errand of software development. Most programming tasks boil down to some variation of transforming data into something more useful.</p>

          </article>
      </div>

      
      
        
        
      

      <div id="related">
        <small>Related Articles</small>

        <ul>
          
          
          
            <li>
              <a href="/afnetworking-2/" title="AFNetworking 2.0">AFNetworking 2.0</a>
            </li>
            
          
          
            <li>
              <a href="/alamofire/" title="Alamofire">Alamofire</a>
            </li>
            
          
          
            <li>
              <a href="/core-data-libraries-and-utilities/" title="Core Data Libraries & Utilities">Core Data Libraries & Utilities</a>
            </li>
            
          
          
          
        </ul>
      </div>
    </section>
  </footer>
</article>

    </div>

    <footer role="contentinfo">
      <section class="credits colophon">
        <p>
          Questions? Corrections? <a href="https://twitter.com/NSHipster">@NSHipster</a> or <a href="https://github.com/NSHipster/articles">on GitHub</a>.
        </p>
        <p>
          <i aria-hidden="true" class="icon-cc"></i>
          <i aria-hidden="true" class="icon-cc-by"></i>
          <i aria-hidden="true" class="icon-cc-nc"></i>
          NSHipster.com is released under a <a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license">Creative Commons BY-NC License</a>.
        </p>
        <p><abbr title="International Standard Serial Number">ISSN</abbr> 2373-9800</p>
        <p lang="zh-Hans"><a href="http://nshipster.cn" hreflang="zh-Hans" title="Articles also available in Chinese">文章也可在中文版阅读</a>。</p>
        <a href="https://plus.google.com/105091289906267717942" rel="publisher"></a>
      </section>
    </footer>
  </div>

  <script>
    if (window.navigator && window.navigator.loadPurpose === "preview") {
      window.location.href = "http://nshipster.com/topsites_preview.html";
    }
  </script>

  <script async>
    var Swiftype = window.Swiftype || {};
    (function() {
      Swiftype.key = 'Q5jNBiR8qVs5xE5dNect';
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.async = true;
      script.src = "//swiftype.com/embed.js";
      var entry = document.getElementsByTagName('script')[0];
      document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
    }());
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49868484-1', 'nshipster.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
