<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  
    <title>iCloud - NSHipster</title>
    <meta name="description" content="Perhaps what Apple is most renowned for is its consistent track record for creating great webservices. From consumer products like MobileMe and Ping to developer tools including the Provisioning Portal and iTunes Connect, Apple has continued to set new standards for convenience, robustness, and extensibility."/>
    <link rel="canonical" href="http://nshipster.com/icloud/"/>
  
  
  
  
  <meta name="author" content="Mattt Thompson"/>
  
  <meta name="revisit-after" content="7 days"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"/>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://nshipster.com/feed.xml"/>
  <link rel="stylesheet" type="text/css" href="http://nshipster.com/css/screen.css"/>
  <link rel="apple-touch-icon" href="/touch-icon-iphone.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="/touch-icon-ipad.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="/touch-icon-iphone-retina.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="/touch-icon-ipad-retina.png"/>
  <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico"/>
  <link rel="mask-icon" sizes="any" href="/website_icon.svg" color="black"/>
  <link rel="author" type="text/plain" href="http://nshipster.com/humans.txt"/>

  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@NSHipster"/>
  
  <meta name="twitter:creator" content="@mattt"/>
  
  
    <meta name="twitter:title" content="iCloud"/>
    <meta name="twitter:description" content="Perhaps what Apple is most renowned for is its consistent track record for creating great webservices. From consumer products like MobileMe and Ping to developer tools including the Provisioning Portal and iTunes Connect, Apple has continued to set new standards for convenience, robustness, and extensibility."/>
  
  <meta property="twitter:account_id" content="629523445"/>

  <meta property="og:site_name" content="NSHipster"/>
  <meta property="og:image" content="http://nshipster.com/touch-icon-ipad-retina.png"/>
  
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="iCloud"/>
    <meta property="og:url" content="http://nshipster.com/icloud/"/>
    <meta property="og:description" content="Perhaps what Apple is most renowned for is its consistent track record for creating great webservices. From consumer products like MobileMe and Ping to developer tools including the Provisioning Portal and iTunes Connect, Apple has continued to set new standards for convenience, robustness, and extensibility."/>
    <meta property="article:published_time" content="2013-04-01T00:00:00-07:00"/>
    <meta property="article:modified_time" content="2015-12-09T21:06:40-08:00"/>
    <meta property="article:tag" content=""/>
    <meta property="article:publisher" content="https://www.facebook.com/NSHipster">
  

  
    <meta property="st:title" content="iCloud"/>
    <meta property="st:type" content="article"/>
  
  
  <meta property="nshipster:hide-single-lang" content="swift,objective-c"/>
</head>

<body itemscope itemtype="http://schema.org/WebPage">

  <script src="http://nshipster.com/js/zepto.min.js"></script>
  <script src="http://nshipster.com/js/application.js"></script>

  <div role="container">
    <header role="banner">
      <h1 id="logo">
        <a href="/">
          <svg id="ns" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
<g>
  <path fill="#F58020" d="M0.6,1h13.7L27,24.4h0.1V1h12.7v43.6H26.8L13.4,20.8h-0.1v23.8H0.6V1z"/>
  <path fill="#F58020" d="M51.4,30c0,1.1,0.2,2.1,0.5,2.9c1,2.6,3.9,3.2,6.4,3.2c2.2,0,5.6-0.7,5.6-4c0-2.3-1.9-2.9-9.4-5
    c-6.9-2-14.8-3.8-14.8-12.6C39.7,4.3,48.3,0,57.3,0c9.5,0,17.8,3.6,18.2,14.2H62.8c0.2-1.6-0.5-2.7-1.6-3.5
    c-1.1-0.8-2.6-1.1-4-1.1c-1.8,0-4.8,0.5-4.8,2.9c0.2,3.1,6.5,3.8,12.6,5.5c6.2,1.7,12.3,4.6,12.3,12.6c0,11.4-10.4,15-20.1,15
    c-4.9,0-19-1.8-19.2-15.7H51.4z"/>
</g>
</svg>

          <svg id="mustache" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
  <g transform="translate(0,-952.36217)" opacity="0.95">
    <path id="path2987" fill="#010101" d="M28.2,971.4c-10,0.5-19.1,13.3-28.2,2.1c0,15.1,23.7,30.5,39.8,16.3
      c16,14.1,39.8-1.3,39.8-16.3c-12.5,15.4-25-14.4-39.8,4.5C35.8,972.7,31.9,971.2,28.2,971.4z"/>
  </g>
</svg>

        </a>

        <span hidden style="display:none;">NSHipster</span>
      </h1>

      <form role="search">
        <input type="text" id="st-search-input" class="st-search-input" />
      </form>

      
    </header>

    <div id="main" role="main" itemprop="mainContentOfPage">
      

<article role="article" itemscope itemtype="http://schema.org/Article">
  <header role="heading">
    <h1 class="title" itemprop="name">
      <a href="/icloud/">i​Cloud</a>
    </h1>

    <h2>
    
      Written by <a class="author" href="/authors/mattt-thompson/">Mattt Thompson</a> —
    
    <time datetime="2013-04-01T00:00:00-07:00" itemprop="datePublished">April 1<sup>st</sup>, 2013</time>
    
    </h2>

  </header>

  <div class="content" itemprop="articleBody" data-swiftype-index="true">
    <p>The <a href="http://en.wikipedia.org/wiki/Apple_Lisa">Lisa</a>. The <a href="http://en.wikipedia.org/wiki/Twentieth_Anniversary_Macintosh">Twentieth Anniversary Macintosh</a>. The <a href="http://en.wikipedia.org/wiki/IPod_Hi-Fi">iPod Hi-Fi</a>. The <a href="http://www.youtube.com/watch?v=9BnLbv6QYcA">MacBook Wheel</a>.</p>

<p>Each of these products exemplifies Apple&rsquo;s obsessive pursuit of quality as much as its unrivaled ability to anticipate the direction of things to come and execute flawlessly.</p>

<p>In the words of Wayne Gretzky: <q>Skate where the puck&rsquo;s going, not where it&rsquo;s been.</q></p>

<p>But perhaps what Apple is most renowned for, however, is its consistent track record for creating <em>great</em> webservices. From consumer products like MobileMe and Ping to developer tools including the Provisioning Portal and iTunes Connect, Apple has continued to set new standards for convenience, robustness, and extensibility.</p>

<p>So when Apple introduced iCloud at WWDC in 2011, everyone in the audience was rapt in anticipation, overcome with a sense of optimistic wonder. &ldquo;Not again!&rdquo;, we said to ourselves, shaking our head with a knowing smile. &ldquo;This changes everything!&rdquo;</p>

<p>And indeed, iCloud <em>has</em> changed everything. Although it seemed almost too good to be true when Steve Jobs got up on that stage in Moscone to announce iCloud to the world that morning in June—if anything, Apple has <strong>under</strong>-promised and <strong>over</strong>-delivered with iCloud.</p>

<p>Now, NSHipster usually covers obscure topics that you&rsquo;ve probably never heard of. But this is one of those days where it just feels <em>right</em> to take this opportunity today to make sure we&rsquo;re all on the same page about iCloud.</p>

<hr>

<p>iCloud is an umbrella term for the latest evolution of Apple&rsquo;s consumer web services. Following from the success of iTools, .Mac, and MobileMe, iCloud manages our digital lives like never before, with features like Photo Stream, iTunes Match, and Documents in the Cloud.</p>

<p>What really ties everything together are the iCloud Storage APIs that allow developers to easily create applications that stay connected across all of your devices. These APIs come in three different flavors, depending on the particular needs of your application:</p>

<blockquote>
<ul>
<li><strong>Key-value storage</strong> for discrete values, such as preferences, settings, and simple app state.</li>
<li><strong>Document storage</strong> for user-visible file-based information such as word processing documents, drawings, and complex app state.</li>
<li><strong>Core Data storage</strong> for shoebox-style apps and server-based, multi-device database solutions for structured content. iCloud Core Data storage is built on document storage and employs the same iCloud APIs.</li>
</ul>
</blockquote>

<h2 id="key-value-storage...-in-the-cloud!">Key-Value Storage&hellip; in the Cloud!</h2>

<blockquote>
<p>To store discrete values in iCloud for app preferences, app configuration, or app state, use iCloud key-value storage. Key-value storage is similar to the local user defaults database; but values that you place in key-value storage are available to every instance of your app on all of a user’s various devices.</p>
</blockquote>

<p>Everyone knows that key-value storage is the secret to achieving Web Scale. That&rsquo;s just science.</p>

<p>Inject a healthy dose of Web Scale convenience into your app by incorporating <code>NSUbiquitousKeyValueStore</code> into your app:</p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">func</span> <span class="nf">application</span><span class="p">(</span><span class="nl">application</span><span class="p">:</span> <span class="bp">UIApplication</span><span class="o">!</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="nl">launchOptions</span><span class="p">:</span> <span class="bp">NSDictionary</span><span class="o">!</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Bool</span> <span class="p">{</span>
    <span class="bp">NSNotificationCenter</span><span class="p">.</span><span class="n">defaultCenter</span><span class="p">().</span><span class="n">addObserverForName</span><span class="p">(</span><span class="n">NSUbiquitousKeyValueStoreDidChangeExternallyNotification</span><span class="p">,</span> <span class="nl">object</span><span class="p">:</span> <span class="bp">NSUbiquitousKeyValueStore</span><span class="p">.</span><span class="n">defaultStore</span><span class="p">(),</span> <span class="nl">queue</span><span class="p">:</span> <span class="bp">NSOperationQueue</span><span class="p">.</span><span class="n">mainQueue</span><span class="p">())</span> <span class="p">{</span> <span class="p">(</span><span class="n">notification</span><span class="p">)</span> <span class="k">in</span>
        <span class="k">let</span> <span class="n">ubiquitousKeyValueStore</span> <span class="o">=</span> <span class="n">notification</span><span class="p">.</span><span class="n">object</span> <span class="kt">as</span> <span class="bp">NSUbiquitousKeyValueStore</span>
        <span class="n">ubiquitousKeyValueStore</span><span class="p">.</span><span class="n">synchronize</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nb">true</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span>
<span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span>
<span class="p">{</span>
  <span class="p">[[</span><span class="bp">NSNotificationCenter</span> <span class="n">defaultCenter</span><span class="p">]</span>
      <span class="nl">addObserver</span><span class="p">:</span><span class="nb">self</span>
         <span class="nl">selector</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">ubiquitousKeyValueStoreDidChange</span><span class="p">:)</span>
             <span class="nl">name</span><span class="p">:</span><span class="n">NSUbiquitousKeyValueStoreDidChangeExternallyNotification</span>
           <span class="nl">object</span><span class="p">:[</span><span class="bp">NSUbiquitousKeyValueStore</span> <span class="n">defaultStore</span><span class="p">]];</span>

  <span class="p">[[</span><span class="bp">NSUbiquitousKeyValueStore</span> <span class="n">defaultStore</span><span class="p">]</span> <span class="n">synchronize</span><span class="p">];</span>

  <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">ubiquitousKeyValueStoreDidChange:</span><span class="p">(</span><span class="bp">NSNotification</span><span class="o">*</span><span class="p">)</span><span class="nv">notification</span> <span class="p">{</span>
    <span class="bp">NSUbiquitousKeyValueStore</span> <span class="o">*</span><span class="n">ubiquitousKeyValueStore</span> <span class="o">=</span> <span class="n">notification</span><span class="p">.</span><span class="n">object</span><span class="p">;</span>
    <span class="p">[</span><span class="n">ubiquitousKeyValueStore</span> <span class="n">synchronize</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="document-storage...-in-the-cloud!">Document Storage&hellip; in the Cloud!</h2>

<blockquote>
<p>Adopting iCloud document storage makes your app’s documents available on all of a user’s devices. Documents automatically implement most of the behavior expected of iCloud apps. Specifically, a document automatically ensures that local changes are safely coordinated with iCloud-originated changes.</p>
</blockquote>

<p>Leave filesystem-based storage to those poor terrestrial bound souls who haven&rsquo;t been raptured to the iCloud. Dropbox? Never heard of &lsquo;em.</p>

<p>Having documents reside entirely in application-specific cloud containers means less clutter in your digital life. Why should other applications be able to access documents anyway? Why would I want to use any more than a single app for any particular task?</p>

<p>They say seeing is believing, but iCloud is built on faith—that everything will be there next time you open Pages, Keynote, or TextEdit. Leave the Finder to play with its folders and <code>.DS_Store</code> files; we shall inherit the open skies of digital freedom.</p>

<h2 id="core-data-storage...-in-the-cloud!">Core Data Storage&hellip; in the Cloud!</h2>

<blockquote>
<p>Adopting iCloud Core Data storage makes the content in a shoebox-style app (like iPhoto) or a database-style app (like Bento) available on all of a user’s devices. Each instance of your app, on each device attached to an iCloud account, maintains its own local Core Data store file. When data changes locally, Core Data writes change log files to your app’s default ubiquity container.</p>
</blockquote>

<p>Developers really love Core Data syncing over iCloud. Seriously, they just <a href="http://blackpixel.com/blog/2013/03/the-return-of-netnewswire.html">can&rsquo;t</a> <a href="https://twitter.com/SteveStreza/status/314494942489751553">stop</a> <a href="http://www.jumsoft.com/2013/01/response-to-sync-issues/">raving</a> <a href="http://inessential.com/2013/03/27/why_developers_shouldnt_use_icloud_sy">about</a> <a href="http://www.theverge.com/2013/3/26/4148628/why-doesnt-icloud-just-work">it</a>.</p>

<p>Just when you thought Core Data couldn&rsquo;t get simpler, iCloud once again redefines our expectations.</p>

<p>Every time your application receives a <code>NSPersistentStoreDidImportUbiquitousContentChangesNotification</code> is reminiscent of that excitement of seeing the FedEx truck pull up with your pre-ordered iPhone 5. &ldquo;This is the first day of the rest of my life&rdquo;, you&rsquo;ll think to yourself as you sign the proverbial confirmation slip of the package.</p>

<p>Sure, there&rsquo;s a chance that what you&rsquo;re signing is <em>actually</em> a repossession confirmation, and that the delivery guy will proceed to bust into your apartment and take everything you once owned, but at least you still have your new iPhone.</p>

<p>So it goes. Even an enlightened iLife is not without its risks.</p>

<hr>

<p>Life just seems to float by, now that iCloud is managing our digital existence. No longer do we have to think about whether we have all of the information we need to go about our day:</p>

<p>From the moment our iPhone wakes us up with the &ldquo;Marimba&rdquo; ringtone, to our daily commute with Siri talking us through our day, and a productive work day using iWork; from the walk to the gym, listening to Podcasts.app, and working out with iTunes Sync, until our last waking hours as we wind down the day with Game Center, Apple and iCloud makes every day special.</p>

<p>And with the iCloud Storage APIs, you too can add your application to that perfect routine of digitally-synced bliss.</p>

<p>No foolin&rsquo;.</p>

  </div>

  <footer role="complementary">
    
    <section id="revisions">
      <small>NSMutableHipster</small>

      <p>
      Questions? Corrections?  <a href="https://github.com/NSHipster/articles/issues">Issues</a> and <a href="https://github.com/NSHipster/articles/blob/master/2013-04-01-icloud.md">pull requests</a> are always welcome — NSHipster is made better by readers like you.
      </p>
      
      <p>
      
        
            <em>This article uses Swift version 1.1.</em>
        
      
      Find status information for all articles on the <a href="/status/">status page</a>.
      </p>
      
      <dl>
      
      </dl>
    </section>
    

    <section id="follow">
      <small>Follow NSHipster</small>

      <ul>
        <li class="twitter">
          <a href="https://twitter.com/intent/user?screen_name=NSHipster" title="Follow NSHipster on Twitter"><i class="icon-twitter" aria-hidden="true"></i></a>
        </li>
        <li class="facebook">
          <a href="https://www.facebook.com/NSHipster" title="Like NSHipster on Facebook"><i class="icon-facebook" aria-hidden="true"></i></a>
        </li>
        <li class="google-plus">
          <a href="https://plus.google.com/+NSHipster" title="Follow NSHipster on G+"><i class="icon-googleplus" aria-hidden="true"></i></a>
        </li>
        <li class="rss">
          <a href="/feed.xml" title="Subscribe to the NSHipster RSS Feed"><i class="icon-feed" aria-hidden="true"></i></a>
        </li>
      </ul>

      <form action="https://tinyletter.com/NSHipster" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/NSHipster', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <label for="tlemail" hidden style="display:none;">Enter Your Email Address</label>
        <input type="email" name="email" id="tlemail" placeholder="Your Email Address"/>
        <input type="hidden" name="embed" value="1"/>
        <input type="submit" value="Join the Newsletter"/>
      </form>
    </section>

    <section id="attribution">
      
  <div class="contributor" itemprop="author" itemscope itemtype="http://data-vocabulary.org/Person">
    <small>Written by</small>

    <img class="avatar" alt="Mattt Thompson" itemprop="image" src="http://nshipster.s3.amazonaws.com/mattt-thompson.jpg" draggable="false"/>
    <div class="details">
      <span itemprop="name"><a href="/authors/mattt-thompson/">Mattt Thompson</a></span>

      <p><a href="https://github.com/mattt">Mattt Thompson</a> (<a href="https://twitter.com/mattt">@mattt</a>) is a writer and developer from the Rustbelt.</p>


      
        <a href="https://plus.google.com/106751358503565042647?rel=author" rel="author"></a>
      
    </div>
  </div>


    </section>

    

    

    <section>
      <div id="continue">
        <small>Next Article</small>
        
        

          <article>
            <h1 class="title">
              <a href="/bool/" title="BOOL / bool / Boolean / NSCFBoolean" rel="next">BOOL / bool / Boolean / NSCFBoolean</a>
            </h1>

            <p>Once again, encoding our logical universe into the cold, calculating bytecode of computers forces us to deal with these questions one way or another. And as you&rsquo;ll see from our discussion of boolean types in Objective-C and its kin, truth is indeed stranger than fiction.</p>

          </article>
      </div>

      
      
        
        
      

      <div id="related">
        <small>Related Articles</small>

        <ul>
          
          
          
            <li>
              <a href="/image-resizing/" title="Image Resizing Techniques">Image Resizing Techniques</a>
            </li>
            
          
          
            <li>
              <a href="/ios9/" title="iOS 9">iOS 9</a>
            </li>
            
          
          
            <li>
              <a href="/long-live-cocoa/" title="Long Live Cocoa">Long Live Cocoa</a>
            </li>
            
          
          
            <li>
              <a href="/backrow/" title="Back Row">Back Row</a>
            </li>
            
          
        </ul>
      </div>
    </section>
  </footer>
</article>

    </div>

    <footer role="contentinfo">
      <section class="credits colophon">
        <p>
          Questions? Corrections? <a href="https://twitter.com/NSHipster">@NSHipster</a> or <a href="https://github.com/NSHipster/articles">on GitHub</a>.
        </p>
        <p>
          <i aria-hidden="true" class="icon-cc"></i>
          <i aria-hidden="true" class="icon-cc-by"></i>
          <i aria-hidden="true" class="icon-cc-nc"></i>
          NSHipster.com is released under a <a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license">Creative Commons BY-NC License</a>.
        </p>
        <p><abbr title="International Standard Serial Number">ISSN</abbr> 2373-9800</p>
        <p lang="zh-Hans"><a href="http://nshipster.cn" hreflang="zh-Hans" title="Articles also available in Chinese">文章也可在中文版阅读</a>。</p>
        <a href="https://plus.google.com/105091289906267717942" rel="publisher"></a>
      </section>
    </footer>
  </div>

  <script>
    if (window.navigator && window.navigator.loadPurpose === "preview") {
      window.location.href = "http://nshipster.com/topsites_preview.html";
    }
  </script>

  <script async>
    var Swiftype = window.Swiftype || {};
    (function() {
      Swiftype.key = 'Q5jNBiR8qVs5xE5dNect';
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.async = true;
      script.src = "//swiftype.com/embed.js";
      var entry = document.getElementsByTagName('script')[0];
      document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
    }());
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49868484-1', 'nshipster.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
