<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  
    <title>NSCharacterSet - NSHipster</title>
    <meta name="description" content="Foundation boasts one of the best, most complete implementations of strings around. But a string implementation is only as good as the programmer who wields it. So this week, we're going to explore some common uses--and misuses--of an important part of the Foundation string ecosystem: NSCharacterSet."/>
    <link rel="canonical" href="http://nshipster.com/nscharacterset/"/>
  
  
  
  
  <meta name="author" content="Mattt Thompson"/>
  
  <meta name="revisit-after" content="7 days"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"/>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://nshipster.com/feed.xml"/>
  <link rel="stylesheet" type="text/css" href="http://nshipster.com/css/screen.css"/>
  <link rel="apple-touch-icon" href="/touch-icon-iphone.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="/touch-icon-ipad.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="/touch-icon-iphone-retina.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="/touch-icon-ipad-retina.png"/>
  <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico"/>
  <link rel="mask-icon" sizes="any" href="/website_icon.svg" color="black"/>
  <link rel="author" type="text/plain" href="http://nshipster.com/humans.txt"/>

  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@NSHipster"/>
  
  <meta name="twitter:creator" content="@mattt"/>
  
  
    <meta name="twitter:title" content="NSCharacterSet"/>
    <meta name="twitter:description" content="Foundation boasts one of the best, most complete implementations of strings around. But a string implementation is only as good as the programmer who wields it. So this week, we&#39;re going to explore some common uses--and misuses--of an important part of the Foundation string ecosystem: NSCharacterSet."/>
  
  <meta property="twitter:account_id" content="629523445"/>

  <meta property="og:site_name" content="NSHipster"/>
  <meta property="og:image" content="http://nshipster.com/touch-icon-ipad-retina.png"/>
  
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="NSCharacterSet"/>
    <meta property="og:url" content="http://nshipster.com/nscharacterset/"/>
    <meta property="og:description" content="Foundation boasts one of the best, most complete implementations of strings around. But a string implementation is only as good as the programmer who wields it. So this week, we&#39;re going to explore some common uses--and misuses--of an important part of the Foundation string ecosystem: NSCharacterSet."/>
    <meta property="article:published_time" content="2012-09-17T00:00:00-07:00"/>
    <meta property="article:modified_time" content="2015-12-09T21:06:40-08:00"/>
    <meta property="article:tag" content="cocoa"/>
    <meta property="article:publisher" content="https://www.facebook.com/NSHipster">
  

  
    <meta property="st:title" content="NSCharacterSet"/>
    <meta property="st:type" content="article"/>
  
  
  <meta property="nshipster:hide-single-lang" content="swift,objective-c"/>
</head>

<body itemscope itemtype="http://schema.org/WebPage">

  <script src="http://nshipster.com/js/zepto.min.js"></script>
  <script src="http://nshipster.com/js/application.js"></script>

  <div role="container">
    <header role="banner">
      <h1 id="logo">
        <a href="/">
          <svg id="ns" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
<g>
  <path fill="#F58020" d="M0.6,1h13.7L27,24.4h0.1V1h12.7v43.6H26.8L13.4,20.8h-0.1v23.8H0.6V1z"/>
  <path fill="#F58020" d="M51.4,30c0,1.1,0.2,2.1,0.5,2.9c1,2.6,3.9,3.2,6.4,3.2c2.2,0,5.6-0.7,5.6-4c0-2.3-1.9-2.9-9.4-5
    c-6.9-2-14.8-3.8-14.8-12.6C39.7,4.3,48.3,0,57.3,0c9.5,0,17.8,3.6,18.2,14.2H62.8c0.2-1.6-0.5-2.7-1.6-3.5
    c-1.1-0.8-2.6-1.1-4-1.1c-1.8,0-4.8,0.5-4.8,2.9c0.2,3.1,6.5,3.8,12.6,5.5c6.2,1.7,12.3,4.6,12.3,12.6c0,11.4-10.4,15-20.1,15
    c-4.9,0-19-1.8-19.2-15.7H51.4z"/>
</g>
</svg>

          <svg id="mustache" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
  <g transform="translate(0,-952.36217)" opacity="0.95">
    <path id="path2987" fill="#010101" d="M28.2,971.4c-10,0.5-19.1,13.3-28.2,2.1c0,15.1,23.7,30.5,39.8,16.3
      c16,14.1,39.8-1.3,39.8-16.3c-12.5,15.4-25-14.4-39.8,4.5C35.8,972.7,31.9,971.2,28.2,971.4z"/>
  </g>
</svg>

        </a>

        <span hidden style="display:none;">NSHipster</span>
      </h1>

      <form role="search">
        <input type="text" id="st-search-input" class="st-search-input" />
      </form>

      
    </header>

    <div id="main" role="main" itemprop="mainContentOfPage">
      

<article role="article" itemscope itemtype="http://schema.org/Article">
  <header role="heading">
    <h1 class="title" itemprop="name">
      <a href="/nscharacterset/">NSCharacter​Set</a>
    </h1>

    <h2>
    
      Written by <a class="author" href="/authors/mattt-thompson/">Mattt Thompson</a> —
    
    <time datetime="2012-09-17T00:00:00-07:00" itemprop="datePublished">September 17<sup>th</sup>, 2012</time>
    
    </h2>

  </header>

  <div class="content" itemprop="articleBody" data-swiftype-index="true">
    <p>As mentioned <a href="http://nshipster.com/cfstringtransform/">previously</a>, Foundation boasts one of the best, most complete implementations of strings around.</p>

<p>But a string implementation is only as good as the programmer who wields it. So this week, we&rsquo;re going to explore some common uses&ndash;and misuses&ndash;of an important part of the Foundation string ecosystem: <code>NSCharacterSet</code>.</p>

<hr>

<blockquote>
<p>If you&rsquo;re fuzzy on what character encodings are (or even if you have a pretty good working knowledge), you should take this opportunity to read / re-read / skim and read later Joel Spolsky&rsquo;s classic essay <a href="http://www.joelonsoftware.com/articles/Unicode.html">&ldquo;The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)&rdquo;</a>. Having that fresh in your mind will give you a much better appreciation of everything we&rsquo;re about to cover.</p>
</blockquote>

<p><code>NSCharacterSet</code> and its mutable counterpart, <code>NSMutableCharacterSet</code>, provide an object-oriented way of representing sets of Unicode characters. It&rsquo;s most often used with <code>NSString</code> &amp; <code>NSScanner</code> to filter, remove, or split on different kinds of characters. To give you an idea of what those kinds of characters can be, take a look at the class methods provided by <code>NSCharacterSet</code>:</p>

<ul>
<li><code>alphanumericCharacterSet</code></li>
<li><code>capitalizedLetterCharacterSet</code></li>
<li><code>controlCharacterSet</code></li>
<li><code>decimalDigitCharacterSet</code></li>
<li><code>decomposableCharacterSet</code></li>
<li><code>illegalCharacterSet</code></li>
<li><code>letterCharacterSet</code></li>
<li><code>lowercaseLetterCharacterSet</code></li>
<li><code>newlineCharacterSet</code></li>
<li><code>nonBaseCharacterSet</code></li>
<li><code>punctuationCharacterSet</code></li>
<li><code>symbolCharacterSet</code></li>
<li><code>uppercaseLetterCharacterSet</code></li>
<li><code>whitespaceAndNewlineCharacterSet</code></li>
<li><code>whitespaceCharacterSet</code></li>
</ul>

<p>Contrary to what its name might suggest, <code>NSCharacterSet</code> has <em>nothing</em> to do with <code>NSSet</code>.</p>

<p>However, <code>NSCharacterSet</code> <em>does</em> have quite a bit in common with <code>NSIndexSet</code>, conceptually if not also in its underlying implementation. <code>NSIndexSet</code>, covered <a href="http://nshipster.com/nsindexset/">previously</a>, represents a sorted collection of unique unsigned integers. Unicode characters are likewise unique unsigned integers that roughly correspond to some orthographic representation. Thus, a character set like <code>NSCharacterSet +lowercaseCharacterSet</code> is analogous to the <code>NSIndexSet</code> of the integers 97 to 122.</p>

<p>Now that we&rsquo;re comfortable with the basic concepts of <code>NSCharacterSet</code>, let&rsquo;s see some of those patterns and anti-patterns:</p>

<h2 id="stripping-whitespace">Stripping Whitespace</h2>

<p><code>NSString -stringByTrimmingCharactersInSet:</code> is a method you should know by heart. It&rsquo;s most often passed <code>NSCharacterSet +whitespaceCharacterSet</code> or <code>+whitespaceAndNewlineCharacterSet</code> in order to remove the leading and trailing whitespace of string input.</p>

<p>It&rsquo;s important to note that this method <em>only</em> strips the <em>first</em> and <em>last</em> contiguous sequences of characters in the specified set. That is to say, if you want to remove excess whitespace between words, you need to go a step further.</p>

<h2 id="squashing-whitespace">Squashing Whitespace</h2>

<p>So let&rsquo;s say you do want to get rid of excessive inter-word spacing for that string you just stripped of whitespace. Here&rsquo;s a really easy way to do that:</p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">var</span> <span class="n">string</span> <span class="o">=</span> <span class="s">&quot;  Lorem    ipsum dolar   sit  amet. &quot;</span>

<span class="k">let</span> <span class="n">components</span> <span class="o">=</span> <span class="n">string</span><span class="p">.</span><span class="n">componentsSeparatedByCharactersInSet</span><span class="p">(</span><span class="bp">NSCharacterSet</span><span class="p">.</span><span class="n">whitespaceCharacterSet</span><span class="p">()).</span><span class="n">filter</span> <span class="p">{</span> <span class="o">!</span><span class="err">$</span><span class="mf">0.</span><span class="n">isEmpty</span> <span class="p">}</span>

<span class="n">string</span> <span class="o">=</span> <span class="n">components</span><span class="p">.</span><span class="n">joinWithSeparator</span><span class="p">(</span><span class="s">&quot; &quot;</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="bp">NSString</span> <span class="o">*</span><span class="n">string</span> <span class="o">=</span> <span class="s">@&quot;Lorem    ipsum dolar   sit  amet.&quot;</span><span class="p">;</span>
<span class="n">string</span> <span class="o">=</span> <span class="p">[</span><span class="n">string</span> <span class="nl">stringByTrimmingCharactersInSet</span><span class="p">:[</span><span class="bp">NSCharacterSet</span> <span class="n">whitespaceCharacterSet</span><span class="p">]];</span>

<span class="bp">NSArray</span> <span class="o">*</span><span class="n">components</span> <span class="o">=</span> <span class="p">[</span><span class="n">string</span> <span class="nl">componentsSeparatedByCharactersInSet</span><span class="p">:[</span><span class="bp">NSCharacterSet</span> <span class="n">whitespaceCharacterSet</span><span class="p">]];</span>
<span class="n">components</span> <span class="o">=</span> <span class="p">[</span><span class="n">components</span> <span class="nl">filteredArrayUsingPredicate</span><span class="p">:[</span><span class="bp">NSPredicate</span> <span class="nl">predicateWithFormat</span><span class="p">:</span><span class="s">@&quot;self &lt;&gt; &#39;&#39;&quot;</span><span class="p">]];</span>

<span class="n">string</span> <span class="o">=</span> <span class="p">[</span><span class="n">components</span> <span class="nl">componentsJoinedByString</span><span class="p">:</span><span class="s">@&quot; &quot;</span><span class="p">];</span>
</code></pre></div>
<p>First, trim the string of leading and trailing whitespace. Next, use <code>NSString -componentsSeparatedByCharactersInSet:</code> to split on the remaining whitespace to create an <code>NSArray</code>. Next, filter out the blank string components with an <code>NSPredicate</code>. Finally, use <code>NSArray -componentsJoinedByString:</code> to re-join the components with a single space. Note that this only works for languages like English that delimit words with whitespace.</p>

<p>And now for the anti-patterns. Take a gander at <a href="http://stackoverflow.com/questions/758212/how-can-i-strip-all-the-whitespaces-from-a-string-in-objective-c">the answers to this question on StackOverflow</a>.</p>

<p>At the time of writing, the correct answer ranks second by number of votes, with 58 up and 2 down. The top answer edges it out with 84 up and 24 down.</p>

<p>Now, it&rsquo;s not uncommon for the top-voted / accepted answer to not be the correct one, but this question may set records for number of completely distinct answers (10), and number of unique, completely incorrect answers (9).</p>

<p>Without further ado, here are the 9 <em>incorrect</em> answers:</p>

<ul>
<li>&ldquo;Use <code>stringByTrimmingCharactersInSet</code>&rdquo; - <em>Only strips the leading and trailing whitespace, as you know.</em></li>
<li>&ldquo;Replace &lsquo; &rsquo; with &rdquo;&ldquo; - <em>This removes <strong>all</strong> of the spaces. Swing and a miss.</em></li>
<li>&quot;Use a regular expression&rdquo; - <em>Kinda works, except it doesn&rsquo;t handle leading and trailing whitespace. A regular expression is overkill anyway.</em></li>
<li>&ldquo;Use Regexp Lite&rdquo; - <em>No seriously, regular expressions are completely unnecessary. And it&rsquo;s definitely not worth the external dependency.</em></li>
<li>&ldquo;Use OgreKit&rdquo; - <em>Ditto any other third-party regexp library.</em></li>
<li>&ldquo;Split the string into components, iterate over them to find components with non-zero length, and then re-combine&rdquo; - <em>So close, but <code>componentsSeparatedByCharactersInSet:</code> already makes the iteration unnecessary.</em></li>
<li>&ldquo;Replace two-space strings with single-space strings in a while loop&rdquo; - <em>Wrong and oh-so computationally wasteful</em>.</li>
<li>&ldquo;Manually iterate over each <code>unichar</code> in the string and use <code>NSCharacterSet -characterIsMember:</code>&rdquo; - <em>Shows a surprising level of sophistication for missing the method that does this in the standard library.</em></li>
<li>&ldquo;Find and remove all of the tabs&rdquo; - <em>Thanks all the same, but who said anything about tabs?</em></li>
</ul>

<p>I don&rsquo;t mean to rag on any of the answerers personally&ndash;this is all to point out how many ways there are to approach these kinds of tasks, and how many of those ways are totally wrong.</p>

<h2 id="string-tokenization">String Tokenization</h2>

<p><strong>Do not use <code>NSCharacterSet</code> to tokenize strings.</strong>
<strong>Use <code>CFStringTokenizer</code> instead.</strong></p>

<p>You can be forgiven for using <code>componentsSeparatedByCharactersInSet:</code> to clean up user input, but do this for anything more complex, and you&rsquo;ll be in a world of pain.</p>

<p>Why? Well, remember that bit about languages not always having whitespace word boundaries? As it turns out, those languages are rather widely used. Just Chinese and Japanese&ndash;#1 and #9 in terms of number of speakers, respectively&ndash;alone account for 16% of the world population, or well over a billion people.</p>

<p>&hellip;and even for languages that do have whitespace word boundaries, tokenization has some obscure edge cases, particularly with compound words and punctuation.</p>

<p>This is all to say: use <code>CFStringTokenizer</code> (or <code>enumerateSubstringsInRange:options:usingBlock:</code>) if you ever intend to split a string by words in any meaningful way.</p>

<h2 id="parse-data-from-strings">Parse Data From Strings</h2>

<p><code>NSScanner</code> is a class that helps to parse data out of arbitrary or semi-structured strings. When you create a scanner for a string, you can specify a set of characters to skip, thus preventing any of those characters from somehow being included in the values parsed from the string.</p>

<p>For example, let&rsquo;s say you have a string that parses opening hours in the following form:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Mon-Thurs:  8:00 - 18:00
Fri:        7:00 - 17:00
Sat-Sun:    10:00 - 15:00
</code></pre></div>
<p>You might <code>enumerateLinesUsingBlock:</code> and parse with an <code>NSScanner</code> like so:</p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="n">skippedCharacters</span> <span class="o">=</span> <span class="bp">NSMutableCharacterSet</span><span class="p">.</span><span class="n">punctuationCharacterSet</span><span class="p">()</span>
<span class="n">skippedCharacters</span><span class="p">.</span><span class="n">formUnionWithCharacterSet</span><span class="p">(</span><span class="bp">NSCharacterSet</span><span class="p">.</span><span class="n">whitespaceCharacterSet</span><span class="p">())</span>

<span class="n">hours</span><span class="p">.</span><span class="n">enumerateLines</span> <span class="p">{</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">let</span> <span class="n">scanner</span> <span class="o">=</span> <span class="bp">NSScanner</span><span class="p">(</span><span class="nl">string</span><span class="p">:</span> <span class="n">line</span><span class="p">)</span>
    <span class="n">scanner</span><span class="p">.</span><span class="n">charactersToBeSkipped</span> <span class="o">=</span> <span class="n">skippedCharacters</span>

    <span class="k">var</span> <span class="n">startDay</span><span class="p">,</span> <span class="nl">endDay</span><span class="p">:</span> <span class="bp">NSString</span><span class="o">?</span>
    <span class="k">var</span> <span class="nl">startHour</span><span class="p">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">var</span> <span class="nl">startMinute</span><span class="p">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">var</span> <span class="nl">endHour</span><span class="p">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">var</span> <span class="nl">endMinute</span><span class="p">:</span> <span class="n">Int</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">scanner</span><span class="p">.</span><span class="n">scanCharactersFromSet</span><span class="p">(</span><span class="bp">NSCharacterSet</span><span class="p">.</span><span class="n">letterCharacterSet</span><span class="p">(),</span> <span class="nl">intoString</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">startDay</span><span class="p">)</span>
    <span class="n">scanner</span><span class="p">.</span><span class="n">scanCharactersFromSet</span><span class="p">(</span><span class="bp">NSCharacterSet</span><span class="p">.</span><span class="n">letterCharacterSet</span><span class="p">(),</span> <span class="nl">intoString</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">endDay</span><span class="p">)</span>

    <span class="n">scanner</span><span class="p">.</span><span class="n">scanInteger</span><span class="p">(</span><span class="o">&amp;</span><span class="n">startHour</span><span class="p">)</span>
    <span class="n">scanner</span><span class="p">.</span><span class="n">scanInteger</span><span class="p">(</span><span class="o">&amp;</span><span class="n">startMinute</span><span class="p">)</span>
    <span class="n">scanner</span><span class="p">.</span><span class="n">scanInteger</span><span class="p">(</span><span class="o">&amp;</span><span class="n">endHour</span><span class="p">)</span>
    <span class="n">scanner</span><span class="p">.</span><span class="n">scanInteger</span><span class="p">(</span><span class="o">&amp;</span><span class="n">endMinute</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre><code class="language-objective-c" data-lang="objective-c"><span class="bp">NSMutableCharacterSet</span> <span class="o">*</span><span class="n">skippedCharacters</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSMutableCharacterSet</span> <span class="n">punctuationCharacterSet</span><span class="p">];</span>
<span class="p">[</span><span class="n">skippedCharacters</span> <span class="nl">formUnionWithCharacterSet</span><span class="p">:[</span><span class="bp">NSCharacterSet</span> <span class="n">whitespaceCharacterSet</span><span class="p">]];</span>

<span class="p">[</span><span class="n">hours</span> <span class="nl">enumerateLinesUsingBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSString</span> <span class="o">*</span><span class="n">line</span><span class="p">,</span> <span class="kt">BOOL</span> <span class="o">*</span><span class="n">stop</span><span class="p">)</span> <span class="p">{</span>
    <span class="bp">NSScanner</span> <span class="o">*</span><span class="n">scanner</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSScanner</span> <span class="nl">scannerWithString</span><span class="p">:</span><span class="n">line</span><span class="p">];</span>
    <span class="p">[</span><span class="n">scanner</span> <span class="nl">setCharactersToBeSkipped</span><span class="p">:</span><span class="n">skippedCharacters</span><span class="p">];</span>

    <span class="bp">NSString</span> <span class="o">*</span><span class="n">startDay</span><span class="p">,</span> <span class="o">*</span><span class="n">endDay</span><span class="p">;</span>
    <span class="bp">NSUInteger</span> <span class="n">startHour</span><span class="p">,</span> <span class="n">startMinute</span><span class="p">,</span> <span class="n">endHour</span><span class="p">,</span> <span class="n">endMinute</span><span class="p">;</span>

    <span class="p">[</span><span class="n">scanner</span> <span class="nl">scanCharactersFromSet</span><span class="p">:[</span><span class="bp">NSCharacterSet</span> <span class="n">letterCharacterSet</span><span class="p">]</span> <span class="nl">intoString</span><span class="p">:</span><span class="o">&amp;</span><span class="n">startDay</span><span class="p">];</span>
    <span class="p">[</span><span class="n">scanner</span> <span class="nl">scanCharactersFromSet</span><span class="p">:[</span><span class="bp">NSCharacterSet</span> <span class="n">letterCharacterSet</span><span class="p">]</span> <span class="nl">intoString</span><span class="p">:</span><span class="o">&amp;</span><span class="n">endDay</span><span class="p">];</span>

    <span class="p">[</span><span class="n">scanner</span> <span class="nl">scanInteger</span><span class="p">:</span><span class="o">&amp;</span><span class="n">startHour</span><span class="p">];</span>
    <span class="p">[</span><span class="n">scanner</span> <span class="nl">scanInteger</span><span class="p">:</span><span class="o">&amp;</span><span class="n">startMinute</span><span class="p">];</span>
    <span class="p">[</span><span class="n">scanner</span> <span class="nl">scanInteger</span><span class="p">:</span><span class="o">&amp;</span><span class="n">endHour</span><span class="p">];</span>
    <span class="p">[</span><span class="n">scanner</span> <span class="nl">scanInteger</span><span class="p">:</span><span class="o">&amp;</span><span class="n">endMinute</span><span class="p">];</span>
<span class="p">}];</span>
</code></pre></div>
<p>We first construct an <code>NSMutableCharacterSet</code> from the union of whitespace and punctuation characters. Telling <code>NSScanner</code> to skip these characters greatly reduces the logic necessary to parse values from the string.</p>

<p><code>scanCharactersFromSet:</code> with the letters character set captures the start and (optional) end day of the week for each entry. <code>scanInteger</code> similarly captures the next contiguous integer value.</p>

<p><code>NSCharacterSet</code> and <code>NSScanner</code> allow you to code quickly and confidently. They&rsquo;re really a great combination, those two.</p>

<hr>

<p><code>NSCharacterSet</code> is but one piece to the Foundation string ecosystem, and perhaps the most misused and misunderstood of them all. By keeping these patterns and anti-patterns in mind, however, not only will you be able to do useful things like manage whitespace and scan information from strings, but&ndash;more importantly&ndash;you&rsquo;ll be able to avoid all of the wrong ways to do it.</p>

<p>And if not being wrong isn&rsquo;t the most important thing about being an NSHipster, then I don&rsquo;t want to be right!</p>

<blockquote>
<p>Ed. Speaking of (not) being wrong, the original version of this article contained errors in both code samples. These have since been corrected.</p>
</blockquote>

  </div>

  <footer role="complementary">
    
    <section id="revisions">
      <small>NSMutableHipster</small>

      <p>
      Questions? Corrections?  <a href="https://github.com/NSHipster/articles/issues">Issues</a> and <a href="https://github.com/NSHipster/articles/blob/master/2012-09-17-nscharacterset.md">pull requests</a> are always welcome — NSHipster is made better by readers like you.
      </p>
      
      <p>
      
        
            <em>This article uses Swift version 2.0 and was last reviewed on September 9, 2015.</em>
        
      
      Find status information for all articles on the <a href="/status/">status page</a>.
      </p>
      
      <dl>
      
      </dl>
    </section>
    

    <section id="follow">
      <small>Follow NSHipster</small>

      <ul>
        <li class="twitter">
          <a href="https://twitter.com/intent/user?screen_name=NSHipster" title="Follow NSHipster on Twitter"><i class="icon-twitter" aria-hidden="true"></i></a>
        </li>
        <li class="facebook">
          <a href="https://www.facebook.com/NSHipster" title="Like NSHipster on Facebook"><i class="icon-facebook" aria-hidden="true"></i></a>
        </li>
        <li class="google-plus">
          <a href="https://plus.google.com/+NSHipster" title="Follow NSHipster on G+"><i class="icon-googleplus" aria-hidden="true"></i></a>
        </li>
        <li class="rss">
          <a href="/feed.xml" title="Subscribe to the NSHipster RSS Feed"><i class="icon-feed" aria-hidden="true"></i></a>
        </li>
      </ul>

      <form action="https://tinyletter.com/NSHipster" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/NSHipster', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <label for="tlemail" hidden style="display:none;">Enter Your Email Address</label>
        <input type="email" name="email" id="tlemail" placeholder="Your Email Address"/>
        <input type="hidden" name="embed" value="1"/>
        <input type="submit" value="Join the Newsletter"/>
      </form>
    </section>

    <section id="attribution">
      
  <div class="contributor" itemprop="author" itemscope itemtype="http://data-vocabulary.org/Person">
    <small>Written by</small>

    <img class="avatar" alt="Mattt Thompson" itemprop="image" src="http://nshipster.s3.amazonaws.com/mattt-thompson.jpg" draggable="false"/>
    <div class="details">
      <span itemprop="name"><a href="/authors/mattt-thompson/">Mattt Thompson</a></span>

      <p><a href="https://github.com/mattt">Mattt Thompson</a> (<a href="https://twitter.com/mattt">@mattt</a>) is a writer and developer from the Rustbelt.</p>


      
        <a href="https://plus.google.com/106751358503565042647?rel=author" rel="author"></a>
      
    </div>
  </div>


    </section>

    

    

    <section>
      <div id="continue">
        <small>Next Article</small>
        
        

          <article>
            <h1 class="title">
              <a href="/uicollectionview/" title="UICollectionView" rel="next">UICollection​View</a>
            </h1>

            <p>UICollectionView single-handedly changes the way we will design and develop iOS apps from here on out. This is not to say that collection views are in any way unknown or obscure. But being an NSHipster isn&rsquo;t just about knowing obscure gems in the rough. Sometimes, it&rsquo;s about knowing about up-and-comers before they become popular and sell out.</p>

          </article>
      </div>

      
      
        
        
      

      <div id="related">
        <small>Related Articles</small>

        <ul>
          
          
          
            <li>
              <a href="/mklocalsearch/" title="MKLocalSearch">MKLocalSearch</a>
            </li>
            
          
          
            <li>
              <a href="/cfstringtransform/" title="CFStringTransform">CFStringTransform</a>
            </li>
            
          
          
            <li>
              <a href="/nsassertionhandler/" title="NSAssertionHandler">NSAssertionHandler</a>
            </li>
            
          
          
            <li>
              <a href="/nsvaluetransformer/" title="NSValueTransformer">NSValueTransformer</a>
            </li>
            
          
        </ul>
      </div>
    </section>
  </footer>
</article>

    </div>

    <footer role="contentinfo">
      <section class="credits colophon">
        <p>
          Questions? Corrections? <a href="https://twitter.com/NSHipster">@NSHipster</a> or <a href="https://github.com/NSHipster/articles">on GitHub</a>.
        </p>
        <p>
          <i aria-hidden="true" class="icon-cc"></i>
          <i aria-hidden="true" class="icon-cc-by"></i>
          <i aria-hidden="true" class="icon-cc-nc"></i>
          NSHipster.com is released under a <a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license">Creative Commons BY-NC License</a>.
        </p>
        <p><abbr title="International Standard Serial Number">ISSN</abbr> 2373-9800</p>
        <p lang="zh-Hans"><a href="http://nshipster.cn" hreflang="zh-Hans" title="Articles also available in Chinese">文章也可在中文版阅读</a>。</p>
        <a href="https://plus.google.com/105091289906267717942" rel="publisher"></a>
      </section>
    </footer>
  </div>

  <script>
    if (window.navigator && window.navigator.loadPurpose === "preview") {
      window.location.href = "http://nshipster.com/topsites_preview.html";
    }
  </script>

  <script async>
    var Swiftype = window.Swiftype || {};
    (function() {
      Swiftype.key = 'Q5jNBiR8qVs5xE5dNect';
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.async = true;
      script.src = "//swiftype.com/embed.js";
      var entry = document.getElementsByTagName('script')[0];
      document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
    }());
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49868484-1', 'nshipster.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
