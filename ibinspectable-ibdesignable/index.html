<!doctype html>
<html lang="en-US">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  
    <title>IBInspectable&nbsp;/ IBDesignable - NSHipster</title>
    <meta name="description" content="Replacing an interface that requires us to memorize and type with one we can see and manipulate can be a enormous improvement. With `IBInspectable` and `IBDesignable`, Xcode 6 makes just such a substitution, building new interactions on top of old technologies."/>
    <link rel="canonical" href="http://nshipster.com/ibinspectable-ibdesignable/"/>
  
  
  
  
  <meta name="author" content="Nate Cook"/>
  
  <meta name="revisit-after" content="7 days"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"/>
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://nshipster.com/feed.xml"/>
  <link rel="stylesheet" type="text/css" href="http://nshipster.com/css/screen.css"/>
  <link rel="apple-touch-icon" href="/touch-icon-iphone.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="/touch-icon-ipad.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="/touch-icon-iphone-retina.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="/touch-icon-ipad-retina.png"/>
  <link rel="icon" sizes="16x16 24x24 32x32 48x48 64x64" type="image/vnd.microsoft.icon" href="/favicon.ico"/>
  <link rel="mask-icon" sizes="any" href="/website_icon.svg" color="black"/>
  <link rel="author" type="text/plain" href="http://nshipster.com/humans.txt"/>

  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site" content="@NSHipster"/>
  
  <meta name="twitter:creator" content="@nnnnnnnn"/>
  
  
    <meta name="twitter:title" content="IBInspectable&nbsp;/ IBDesignable"/>
    <meta name="twitter:description" content="Replacing an interface that requires us to memorize and type with one we can see and manipulate can be a enormous improvement. With `IBInspectable` and `IBDesignable`, Xcode 6 makes just such a substitution, building new interactions on top of old technologies."/>
  
  <meta property="twitter:account_id" content="629523445"/>

  <meta property="og:site_name" content="NSHipster"/>
  <meta property="og:image" content="http://nshipster.com/touch-icon-ipad-retina.png"/>
  
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="IBInspectable&nbsp;/ IBDesignable"/>
    <meta property="og:url" content="http://nshipster.com/ibinspectable-ibdesignable/"/>
    <meta property="og:description" content="Replacing an interface that requires us to memorize and type with one we can see and manipulate can be a enormous improvement. With `IBInspectable` and `IBDesignable`, Xcode 6 makes just such a substitution, building new interactions on top of old technologies."/>
    <meta property="article:published_time" content="2015-02-02T00:00:00-08:00"/>
    <meta property="article:modified_time" content="2015-12-09T21:34:50-08:00"/>
    <meta property="article:tag" content="xcode"/>
    <meta property="article:publisher" content="https://www.facebook.com/NSHipster">
  

  
    <meta property="st:title" content="IBInspectable&nbsp;/ IBDesignable"/>
    <meta property="st:type" content="article"/>
  
  
  <meta property="nshipster:hide-single-lang" content="swift,objective-c"/>
</head>

<body itemscope itemtype="http://schema.org/WebPage">

  <script src="http://nshipster.com/js/zepto.min.js"></script>
  <script src="http://nshipster.com/js/application.js"></script>

  <div role="container">
    <header role="banner">
      <h1 id="logo">
        <a href="/">
          <svg id="ns" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
<g>
  <path fill="#F58020" d="M0.6,1h13.7L27,24.4h0.1V1h12.7v43.6H26.8L13.4,20.8h-0.1v23.8H0.6V1z"/>
  <path fill="#F58020" d="M51.4,30c0,1.1,0.2,2.1,0.5,2.9c1,2.6,3.9,3.2,6.4,3.2c2.2,0,5.6-0.7,5.6-4c0-2.3-1.9-2.9-9.4-5
    c-6.9-2-14.8-3.8-14.8-12.6C39.7,4.3,48.3,0,57.3,0c9.5,0,17.8,3.6,18.2,14.2H62.8c0.2-1.6-0.5-2.7-1.6-3.5
    c-1.1-0.8-2.6-1.1-4-1.1c-1.8,0-4.8,0.5-4.8,2.9c0.2,3.1,6.5,3.8,12.6,5.5c6.2,1.7,12.3,4.6,12.3,12.6c0,11.4-10.4,15-20.1,15
    c-4.9,0-19-1.8-19.2-15.7H51.4z"/>
</g>
</svg>

          <svg id="mustache" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
   viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
  <g transform="translate(0,-952.36217)" opacity="0.95">
    <path id="path2987" fill="#010101" d="M28.2,971.4c-10,0.5-19.1,13.3-28.2,2.1c0,15.1,23.7,30.5,39.8,16.3
      c16,14.1,39.8-1.3,39.8-16.3c-12.5,15.4-25-14.4-39.8,4.5C35.8,972.7,31.9,971.2,28.2,971.4z"/>
  </g>
</svg>

        </a>

        <span hidden style="display:none;">NSHipster</span>
      </h1>

      <form role="search">
        <input type="text" id="st-search-input" class="st-search-input" />
      </form>

      
    </header>

    <div id="main" role="main" itemprop="mainContentOfPage">
      

<article role="article" itemscope itemtype="http://schema.org/Article">
  <header role="heading">
    <h1 class="title" itemprop="name">
      <a href="/ibinspectable-ibdesignable/">IBInspectable&nbsp;/ IBDesignable</a>
    </h1>

    <h2>
    
      Written by <a class="author" href="/authors/nate-cook/">Nate Cook</a> —
    
    <time datetime="2015-02-02T00:00:00-08:00" itemprop="datePublished">February 2<sup>nd</sup>, 2015</time>
    
    </h2>

  </header>

  <div class="content" itemprop="articleBody" data-swiftype-index="true">
    <p>Show, don&rsquo;t tell. Seeing is believing. A picture is worth a thousand <del>emails</del> words. </p>

<p>Whatever the cliché, replacing an interface that requires us to memorize and type with one we can see and manipulate can be an enormous improvement. Xcode 6 makes just such a substitution, building new interactions on top of old technologies. With <code>IBInspectable</code> and <code>IBDesignable</code>, it&rsquo;s possible to build a custom interface for configuring your custom controls and have them rendered in real-time while designing your project.</p>

<h2 id="ibinspectable">IBInspectable</h2>

<p><code>IBInspectable</code> properties provide new access to an old feature: user-defined runtime attributes. Currently accessible from the identity inspector, these attributes have been available since before Interface Builder was integrated into Xcode. They provide a powerful mechanism for configuring any key-value coded property of an instance in a NIB, XIB, or storyboard:</p>

<p><img src="http://nshipster.s3.amazonaws.com/IBInspectable-runtime-attributes.png" alt="User-Defined Runtime Attributes"></p>

<p>While powerful, runtime attributes can be cumbersome to work with. The key path, type, and value of an attribute need to be set on each instance, without any autocompletion or type hinting, which requires trips to the documentation or a custom subclass&rsquo;s source code to double-check the settings. <code>IBInspectable</code> properties solve this problem outright: in Xcode 6 you can now specify any property as inspectable and get a user interface built just for your custom class.</p>

<p>For example, these properties in a <code>UIView</code> subclass update the backing layer with their values:</p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="p">@</span><span class="n">IBInspectable</span> <span class="k">var</span> <span class="nl">cornerRadius</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">{</span>
   <span class="kr">didSet</span> <span class="p">{</span>
       <span class="n">layer</span><span class="p">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="n">cornerRadius</span>
       <span class="n">layer</span><span class="p">.</span><span class="n">masksToBounds</span> <span class="o">=</span> <span class="n">cornerRadius</span> <span class="o">&gt;</span> <span class="mi">0</span>
   <span class="p">}</span>
<span class="p">}</span>
<span class="p">@</span><span class="n">IBInspectable</span> <span class="k">var</span> <span class="nl">borderWidth</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">{</span>
   <span class="kr">didSet</span> <span class="p">{</span>
       <span class="n">layer</span><span class="p">.</span><span class="n">borderWidth</span> <span class="o">=</span> <span class="n">borderWidth</span>
   <span class="p">}</span>
<span class="p">}</span>
<span class="p">@</span><span class="n">IBInspectable</span> <span class="k">var</span> <span class="nl">borderColor</span><span class="p">:</span> <span class="bp">UIColor</span><span class="o">?</span> <span class="p">{</span>
   <span class="kr">didSet</span> <span class="p">{</span>
       <span class="n">layer</span><span class="p">.</span><span class="n">borderColor</span> <span class="o">=</span> <span class="n">borderColor</span><span class="o">?</span><span class="p">.</span><span class="bp">CGColor</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Marked with <code>@IBInspectable</code> (or <code>IBInspectable</code> in Objective-C), they are easily editable in Interface Builder&rsquo;s inspector panel. Note that Xcode goes the extra mile here—property names are converted from camel- to title-case and related names are grouped together:</p>

<p><img src="http://nshipster.s3.amazonaws.com/IBInspectable-inspectable.png" alt="IBInspectable Attribute Inspector"></p>

<p>Since inspectable properties are simply an interface on top of user-defined runtime attributes, the same list of types is supported: booleans, strings, and numbers (i.e., <code>NSNumber</code> or any of the numeric value types), as well as <code>CGPoint</code>, <code>CGSize</code>, <code>CGRect</code>, <code>UIColor</code>, and <code>NSRange</code>, adding <code>UIImage</code> for good measure.</p>

<blockquote>
<p>Those already familiar with runtime attributes will have noticed a bit of trickery in the example above. <code>UIColor</code> is the only color type supported, not the <code>CGColor</code> native to a view&rsquo;s backing <code>CALayer</code>. The <code>borderColor</code> computed property maps the <code>UIColor</code> (set via runtime attribute) to the layer&rsquo;s required <code>CGColor</code>.</p>
</blockquote>

<h3 id="making-existing-types-inspectable">Making Existing Types Inspectable</h3>

<p>Built-in Cocoa types can also be extended to have inspectable properties beyond the ones already in Interface Builder&rsquo;s attribute inspector. If you like rounded corners, you&rsquo;ll love this <code>UIView</code> extension:</p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">extension</span> <span class="bp">UIView</span> <span class="p">{</span>
    <span class="p">@</span><span class="n">IBInspectable</span> <span class="k">var</span> <span class="nl">cornerRadius</span><span class="p">:</span> <span class="n">CGFloat</span> <span class="p">{</span>
        <span class="kr">get</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">layer</span><span class="p">.</span><span class="n">cornerRadius</span>
        <span class="p">}</span>
        <span class="kr">set</span> <span class="p">{</span>
            <span class="n">layer</span><span class="p">.</span><span class="n">cornerRadius</span> <span class="o">=</span> <span class="n">newValue</span>
            <span class="n">layer</span><span class="p">.</span><span class="n">masksToBounds</span> <span class="o">=</span> <span class="n">newValue</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Presto! A configurable border radius on any <code>UIView</code> you create.</p>

<h2 id="ibdesignable">IBDesignable</h2>

<p>As if that weren&rsquo;t enough, <code>IBDesignable</code> custom views also debut in Xcode 6. When applied to a <code>UIView</code> or <code>NSView</code> subclass, the <code>@IBDesignable</code> designation lets Interface Builder know that it should render the view directly in the canvas. This allows seeing how your custom views will appear without building and running your app after each change.</p>

<p>To mark a custom view as <code>IBDesignable</code>, prefix the class name with <code>@IBDesignable</code> (or the <code>IB_DESIGNABLE</code> macro in Objective-C). Your initializers, layout, and drawing methods will be used to render your custom view right on the canvas:</p>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="p">@</span><span class="n">IBDesignable</span>
<span class="k">class</span> <span class="nl">MyCustomView</span><span class="p">:</span> <span class="bp">UIView</span> <span class="p">{</span>
    <span class="p">...</span>
<span class="p">}</span>
</code></pre></div>
<p><img src="http://nshipster.s3.amazonaws.com/IBInspectable-designable.png" alt="IBDesignable Live Preview"></p>

<p>The time-savings from this feature can&rsquo;t be overstated. Combined with <code>IBInspectable</code> properties, a designer or developer can easily tweak the rendering of a custom control to get the exact result she wants. Any changes, whether made in code or the attribute inspector, are immediately rendered on the canvas.</p>

<p>Moreover, any problems can be debugged without compiling and running the whole project. To kick off a debugging session right in place, simply set a breakpoint in your code, select the view in Interface Builder, and choose <strong>Editor</strong> ➔ <strong>Debug Selected Views</strong>.</p>

<p>Since the custom view won&rsquo;t have the full context of your app when rendered in Interface Builder, you may need to generate mock data for display, such as a default user profile image or generic weather data. There are two ways to add code for this special context:</p>

<blockquote>
<ul>
<li><p><code>prepareForInterfaceBuilder()</code>: This method compiles with the rest of your code but is only executed when your view is being prepared for display in Interface Builder.</p></li>
<li><p><code>TARGET_INTERFACE_BUILDER</code>: The <code>#if TARGET_INTERFACE_BUILDER</code> preprocessor macro will work in either Objective-C or Swift to conditionally compile the right code for the situation:</p></li>
</ul>
<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="cp">#if !TARGET_INTERFACE_BUILDER</span>
    <span class="c1">// this code will run in the app itself</span>
<span class="cp">#else</span>
    <span class="c1">// this code will execute only in IB</span>
<span class="cp">#endif</span>
</code></pre></div></blockquote>

<h2 id="ibcalculatorconstructorset">IBCalculatorConstructorSet</h2>

<p>What can you create with a combination of <code>IBInspectable</code> attributes in your <code>IBDesignable</code> custom view? As an example, let&rsquo;s update an old classic from <a href="http://www.folklore.org/StoryView.py?story=Calculator_Construction_Set.txt">Apple folklore</a>: the &ldquo;Steve Jobs Roll Your Own Calculator Construction Set,&rdquo; Xcode 6-style (<a href="https://gist.github.com/natecook1000/4269059121ec247fbb90">gist</a>):</p>

<p><img src="http://nshipster.s3.amazonaws.com/IBInspectable-CCS.gif" alt="Calculator Construction Set"></p>

<hr>

<p><br></p>

<p>That was almost a thousand words—let&rsquo;s see some more pictures. What are <em>you</em> creating with these powerful new tools? <a href="http://twitter.com/share?hashtags=IBInspectable">Tweet an image</a> of your <code>IBInspectable</code> or <code>IBDesignable</code> creations with the hashtag <code>#IBInspectable</code>—we can all learn from seeing what&rsquo;s possible.</p>

  </div>

  <footer role="complementary">
    
    <section id="revisions">
      <small>NSMutableHipster</small>

      <p>
      Questions? Corrections?  <a href="https://github.com/NSHipster/articles/issues">Issues</a> and <a href="https://github.com/NSHipster/articles/blob/master/2015-02-02-ibinspectable-ibdesignable.md">pull requests</a> are always welcome — NSHipster is made better by readers like you.
      </p>
      
      <p>
      
        
            <em>This article uses Swift version 1.0.</em>
        
      
      Find status information for all articles on the <a href="/status/">status page</a>.
      </p>
      
      <dl>
      
      </dl>
    </section>
    

    <section id="follow">
      <small>Follow NSHipster</small>

      <ul>
        <li class="twitter">
          <a href="https://twitter.com/intent/user?screen_name=NSHipster" title="Follow NSHipster on Twitter"><i class="icon-twitter" aria-hidden="true"></i></a>
        </li>
        <li class="facebook">
          <a href="https://www.facebook.com/NSHipster" title="Like NSHipster on Facebook"><i class="icon-facebook" aria-hidden="true"></i></a>
        </li>
        <li class="google-plus">
          <a href="https://plus.google.com/+NSHipster" title="Follow NSHipster on G+"><i class="icon-googleplus" aria-hidden="true"></i></a>
        </li>
        <li class="rss">
          <a href="/feed.xml" title="Subscribe to the NSHipster RSS Feed"><i class="icon-feed" aria-hidden="true"></i></a>
        </li>
      </ul>

      <form action="https://tinyletter.com/NSHipster" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/NSHipster', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
        <label for="tlemail" hidden style="display:none;">Enter Your Email Address</label>
        <input type="email" name="email" id="tlemail" placeholder="Your Email Address"/>
        <input type="hidden" name="embed" value="1"/>
        <input type="submit" value="Join the Newsletter"/>
      </form>
    </section>

    <section id="attribution">
      
  <div class="contributor" itemprop="author" itemscope itemtype="http://data-vocabulary.org/Person">
    <small>Written by</small>

    <img class="avatar" alt="Nate Cook" itemprop="image" src="http://nshipster.s3.amazonaws.com/nate-cook.jpg" draggable="false"/>
    <div class="details">
      <span itemprop="name"><a href="/authors/nate-cook/">Nate Cook</a></span>

      <p><a href="http://natecook.com">Nate Cook</a> (<a href="https://twitter.com/nnnnnnnn">@nnnnnnnn</a>) is an independent web and application developer who <a href="http://natecook.com/blog/">writes frequently about topics in Swift</a>, and the creator of <a href="http://swiftdoc.org">SwiftDoc.org</a>.</p>


      
        <a href="https://plus.google.com/?rel=author" rel="author"></a>
      
    </div>
  </div>


    </section>

    

    

    <section>
      <div id="continue">
        <small>Next Article</small>
        
        

          <article>
            <h1 class="title">
              <a href="/swift-1.2/" title="Swift 1.2" rel="next">Swift 1.2</a>
            </h1>

            <p>Swift, true to its name, is moving fast. With the beta release of Swift 1.2, the Swift team has responded to so many of the community&rsquo;s requests in one fell swoop, we&rsquo;re overflowing with new and exciting features. This week, take a look at two major aspects of the release that will significantly improve the experience of working in Swift: first, big changes in <code>if let</code> optional binding, and second, new access to nullability annotations in Objective-C.</p>

          </article>
      </div>

      
      
        
        
      

      <div id="related">
        <small>Related Articles</small>

        <ul>
          
          
          
            <li>
              <a href="/quick-look-debugging/" title="Quick Look Debugging">Quick Look Debugging</a>
            </li>
            
          
          
            <li>
              <a href="/xcode-plugins/" title="Xcode Plugins">Xcode Plugins</a>
            </li>
            
          
          
            <li>
              <a href="/network-link-conditioner/" title="Network Link Conditioner">Network Link Conditioner</a>
            </li>
            
          
          
          
        </ul>
      </div>
    </section>
  </footer>
</article>

    </div>

    <footer role="contentinfo">
      <section class="credits colophon">
        <p>
          Questions? Corrections? <a href="https://twitter.com/NSHipster">@NSHipster</a> or <a href="https://github.com/NSHipster/articles">on GitHub</a>.
        </p>
        <p>
          <i aria-hidden="true" class="icon-cc"></i>
          <i aria-hidden="true" class="icon-cc-by"></i>
          <i aria-hidden="true" class="icon-cc-nc"></i>
          NSHipster.com is released under a <a href="http://creativecommons.org/licenses/by-nc/4.0/" rel="license">Creative Commons BY-NC License</a>.
        </p>
        <p><abbr title="International Standard Serial Number">ISSN</abbr> 2373-9800</p>
        <p lang="zh-Hans"><a href="http://nshipster.cn" hreflang="zh-Hans" title="Articles also available in Chinese">文章也可在中文版阅读</a>。</p>
        <a href="https://plus.google.com/105091289906267717942" rel="publisher"></a>
      </section>
    </footer>
  </div>

  <script>
    if (window.navigator && window.navigator.loadPurpose === "preview") {
      window.location.href = "http://nshipster.com/topsites_preview.html";
    }
  </script>

  <script async>
    var Swiftype = window.Swiftype || {};
    (function() {
      Swiftype.key = 'Q5jNBiR8qVs5xE5dNect';
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.async = true;
      script.src = "//swiftype.com/embed.js";
      var entry = document.getElementsByTagName('script')[0];
      document.getElementsByTagName('script')[0].parentNode.insertBefore(script, entry);
    }());
  </script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-49868484-1', 'nshipster.com');
    ga('send', 'pageview');
  </script>

</body>
</html>
